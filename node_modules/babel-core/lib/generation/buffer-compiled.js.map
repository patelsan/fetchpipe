{"version":3,"sources":["buffer.js"],"names":[],"mappings":"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","file":"buffer-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// istanbul ignore next\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _repeating = require(\"repeating\");\n\nvar _repeating2 = _interopRequireDefault(_repeating);\n\nvar _trimRight = require(\"trim-right\");\n\nvar _trimRight2 = _interopRequireDefault(_trimRight);\n\nvar _lodashLangIsBoolean = require(\"lodash/lang/isBoolean\");\n\nvar _lodashLangIsBoolean2 = _interopRequireDefault(_lodashLangIsBoolean);\n\nvar _lodashCollectionIncludes = require(\"lodash/collection/includes\");\n\nvar _lodashCollectionIncludes2 = _interopRequireDefault(_lodashCollectionIncludes);\n\nvar _lodashLangIsNumber = require(\"lodash/lang/isNumber\");\n\nvar _lodashLangIsNumber2 = _interopRequireDefault(_lodashLangIsNumber);\n\n/**\n * Buffer for collecting generated output.\n */\n\nvar Buffer = (function () {\n  function Buffer(position, format) {\n    _classCallCheck(this, Buffer);\n\n    this.parenPushNewlineState = null;\n\n    this.position = position;\n    this._indent = format.indent.base;\n    this.format = format;\n    this.buf = \"\";\n  }\n\n  /**\n   * Get the current trimmed buffer.\n   */\n\n  Buffer.prototype.get = function get() {\n    return _trimRight2[\"default\"](this.buf);\n  };\n\n  /**\n   * Get the current indent.\n   */\n\n  Buffer.prototype.getIndent = function getIndent() {\n    if (this.format.compact || this.format.concise) {\n      return \"\";\n    } else {\n      return _repeating2[\"default\"](this.format.indent.style, this._indent);\n    }\n  };\n\n  /**\n   * Get the current indent size.\n   */\n\n  Buffer.prototype.indentSize = function indentSize() {\n    return this.getIndent().length;\n  };\n\n  /**\n   * Increment indent size.\n   */\n\n  Buffer.prototype.indent = function indent() {\n    this._indent++;\n  };\n\n  /**\n   * Decrement indent size.\n   */\n\n  Buffer.prototype.dedent = function dedent() {\n    this._indent--;\n  };\n\n  /**\n   * Add a semicolon to the buffer.\n   */\n\n  Buffer.prototype.semicolon = function semicolon() {\n    this.push(\";\");\n  };\n\n  /**\n   * Ensure last character is a semicolon.\n   */\n\n  Buffer.prototype.ensureSemicolon = function ensureSemicolon() {\n    if (!this.isLast(\";\")) this.semicolon();\n  };\n\n  /**\n   * Add a right brace to the buffer.\n   */\n\n  Buffer.prototype.rightBrace = function rightBrace() {\n    this.newline(true);\n    this.push(\"}\");\n  };\n\n  /**\n   * Add a keyword to the buffer.\n   */\n\n  Buffer.prototype.keyword = function keyword(name) {\n    this.push(name);\n    this.space();\n  };\n\n  /**\n   * Add a space to the buffer unless it is compact (override with force).\n   */\n\n  Buffer.prototype.space = function space(force) {\n    if (!force && this.format.compact) return;\n\n    if (force || this.buf && !this.isLast(\" \") && !this.isLast(\"\\n\")) {\n      this.push(\" \");\n    }\n  };\n\n  /**\n   * Remove the last character.\n   */\n\n  Buffer.prototype.removeLast = function removeLast(cha) {\n    if (this.format.compact) return;\n    if (!this.isLast(cha)) return;\n\n    this.buf = this.buf.substr(0, this.buf.length - 1);\n    this.position.unshift(cha);\n  };\n\n  /**\n   * Set some state that will be modified if a newline has been inserted before any\n   * non-space characters.\n   *\n   * This is to prevent breaking semantics for terminatorless separator nodes. eg:\n   *\n   *    return foo;\n   *\n   * returns `foo`. But if we do:\n   *\n   *   return\n   *   foo;\n   *\n   *  `undefined` will be returned and not `foo` due to the terminator.\n   */\n\n  Buffer.prototype.startTerminatorless = function startTerminatorless() {\n    return this.parenPushNewlineState = {\n      printed: false\n    };\n  };\n\n  /**\n   * Print an ending parentheses if a starting one has been printed.\n   */\n\n  Buffer.prototype.endTerminatorless = function endTerminatorless(state) {\n    if (state.printed) {\n      this.dedent();\n      this.newline();\n      this.push(\")\");\n    }\n  };\n\n  /**\n   * Add a newline (or many newlines), maintaining formatting.\n   * Strips multiple newlines if removeLast is true.\n   */\n\n  Buffer.prototype.newline = function newline(i, removeLast) {\n    if (this.format.compact || this.format.retainLines) return;\n\n    if (this.format.concise) {\n      this.space();\n      return;\n    }\n\n    removeLast = removeLast || false;\n\n    if (_lodashLangIsNumber2[\"default\"](i)) {\n      i = Math.min(2, i);\n\n      if (this.endsWith(\"{\\n\") || this.endsWith(\":\\n\")) i--;\n      if (i <= 0) return;\n\n      while (i > 0) {\n        this._newline(removeLast);\n        i--;\n      }\n      return;\n    }\n\n    if (_lodashLangIsBoolean2[\"default\"](i)) {\n      removeLast = i;\n    }\n\n    this._newline(removeLast);\n  };\n\n  /**\n   * Adds a newline unless there is already two previous newlines.\n   */\n\n  Buffer.prototype._newline = function _newline(removeLast) {\n    // never allow more than two lines\n    if (this.endsWith(\"\\n\\n\")) return;\n\n    // remove the last newline\n    if (removeLast && this.isLast(\"\\n\")) this.removeLast(\"\\n\");\n\n    this.removeLast(\" \");\n    this._removeSpacesAfterLastNewline();\n    this._push(\"\\n\");\n  };\n\n  /**\n   * If buffer ends with a newline and some spaces after it, trim those spaces.\n   */\n\n  Buffer.prototype._removeSpacesAfterLastNewline = function _removeSpacesAfterLastNewline() {\n    var lastNewlineIndex = this.buf.lastIndexOf(\"\\n\");\n    if (lastNewlineIndex === -1) {\n      return;\n    }\n\n    var index = this.buf.length - 1;\n    while (index > lastNewlineIndex) {\n      if (this.buf[index] !== \" \") {\n        break;\n      }\n\n      index--;\n    }\n\n    if (index === lastNewlineIndex) {\n      this.buf = this.buf.substring(0, index + 1);\n    }\n  };\n\n  /**\n   * Push a string to the buffer, maintaining indentation and newlines.\n   */\n\n  Buffer.prototype.push = function push(str, noIndent) {\n    if (!this.format.compact && this._indent && !noIndent && str !== \"\\n\") {\n      // we have an indent level and we aren't pushing a newline\n      var indent = this.getIndent();\n\n      // replace all newlines with newlines with the indentation\n      str = str.replace(/\\n/g, \"\\n\" + indent);\n\n      // we've got a newline before us so prepend on the indentation\n      if (this.isLast(\"\\n\")) this._push(indent);\n    }\n\n    this._push(str);\n  };\n\n  /**\n   * Push a string to the buffer.\n   */\n\n  Buffer.prototype._push = function _push(str) {\n    // see startTerminatorless() instance method\n    var parenPushNewlineState = this.parenPushNewlineState;\n    if (parenPushNewlineState) {\n      for (var i = 0; i < str.length; i++) {\n        var cha = str[i];\n\n        // we can ignore spaces since they wont interupt a terminatorless separator\n        if (cha === \" \") continue;\n\n        this.parenPushNewlineState = null;\n\n        if (cha === \"\\n\" || cha === \"/\") {\n          // we're going to break this terminator expression so we need to add a parentheses\n          this._push(\"(\");\n          this.indent();\n          parenPushNewlineState.printed = true;\n        }\n\n        break;\n      }\n    }\n\n    //\n    this.position.push(str);\n    this.buf += str;\n  };\n\n  /**\n   * Test if the buffer ends with a string.\n   */\n\n  Buffer.prototype.endsWith = function endsWith(str) {\n    var buf = arguments.length <= 1 || arguments[1] === undefined ? this.buf : arguments[1];\n\n    if (str.length === 1) {\n      return buf[buf.length - 1] === str;\n    } else {\n      return buf.slice(-str.length) === str;\n    }\n  };\n\n  /**\n   * Test if a character is last in the buffer.\n   */\n\n  Buffer.prototype.isLast = function isLast(cha) {\n    if (this.format.compact) return false;\n\n    var buf = this.buf;\n    var last = buf[buf.length - 1];\n\n    if (Array.isArray(cha)) {\n      return _lodashCollectionIncludes2[\"default\"](cha, last);\n    } else {\n      return cha === last;\n    }\n  };\n\n  return Buffer;\n})();\n\nexports[\"default\"] = Buffer;\nmodule.exports = exports[\"default\"];"]}