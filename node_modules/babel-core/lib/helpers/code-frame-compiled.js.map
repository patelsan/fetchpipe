{"version":3,"sources":["code-frame.js"],"names":[],"mappings":"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","file":"code-frame-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _lineNumbers = require(\"line-numbers\");\n\nvar _lineNumbers2 = _interopRequireDefault(_lineNumbers);\n\nvar _repeating = require(\"repeating\");\n\nvar _repeating2 = _interopRequireDefault(_repeating);\n\nvar _jsTokens = require(\"js-tokens\");\n\nvar _jsTokens2 = _interopRequireDefault(_jsTokens);\n\nvar _esutils = require(\"esutils\");\n\nvar _esutils2 = _interopRequireDefault(_esutils);\n\nvar _chalk = require(\"chalk\");\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\n/**\n * Chalk styles for token types.\n */\n\nvar defs = {\n  string: _chalk2[\"default\"].red,\n  punctuator: _chalk2[\"default\"].bold,\n  curly: _chalk2[\"default\"].green,\n  parens: _chalk2[\"default\"].blue.bold,\n  square: _chalk2[\"default\"].yellow,\n  keyword: _chalk2[\"default\"].cyan,\n  number: _chalk2[\"default\"].magenta,\n  regex: _chalk2[\"default\"].magenta,\n  comment: _chalk2[\"default\"].grey,\n  invalid: _chalk2[\"default\"].inverse\n};\n\n/**\n * RegExp to test for newlines in terminal.\n */\n\nvar NEWLINE = /\\r\\n|[\\n\\r\\u2028\\u2029]/;\n\n/**\n * Get the type of token, specifying punctuator type.\n */\n\nfunction getTokenType(match) {\n  var token = _jsTokens2[\"default\"].matchToToken(match);\n  if (token.type === \"name\" && _esutils2[\"default\"].keyword.isReservedWordES6(token.value)) {\n    return \"keyword\";\n  }\n\n  if (token.type === \"punctuator\") {\n    switch (token.value) {\n      case \"{\":\n      case \"}\":\n        return \"curly\";\n      case \"(\":\n      case \")\":\n        return \"parens\";\n      case \"[\":\n      case \"]\":\n        return \"square\";\n    }\n  }\n\n  return token.type;\n}\n\n/**\n * Highlight `text`.\n */\n\nfunction highlight(text) {\n  return text.replace(_jsTokens2[\"default\"], function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var type = getTokenType(args);\n    var colorize = defs[type];\n    if (colorize) {\n      return args[0].split(NEWLINE).map(function (str) {\n        return colorize(str);\n      }).join(\"\\n\");\n    } else {\n      return args[0];\n    }\n  });\n}\n\n/**\n * Create a code frame, adding line numbers, code highlighting, and pointing to a given position.\n */\n\nexports[\"default\"] = function (lines, lineNumber, colNumber) {\n  var opts = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n  colNumber = Math.max(colNumber, 0);\n\n  var highlighted = opts.highlightCode && _chalk2[\"default\"].supportsColor;\n  if (highlighted) lines = highlight(lines);\n\n  lines = lines.split(NEWLINE);\n\n  var start = Math.max(lineNumber - 3, 0);\n  var end = Math.min(lines.length, lineNumber + 3);\n\n  if (!lineNumber && !colNumber) {\n    start = 0;\n    end = lines.length;\n  }\n\n  var frame = _lineNumbers2[\"default\"](lines.slice(start, end), {\n    start: start + 1,\n    before: \"  \",\n    after: \" | \",\n    transform: function transform(params) {\n      if (params.number !== lineNumber) {\n        return;\n      }\n\n      if (colNumber) {\n        params.line += \"\\n\" + params.before + _repeating2[\"default\"](\" \", params.width) + params.after + _repeating2[\"default\"](\" \", colNumber - 1) + \"^\";\n      }\n\n      params.before = params.before.replace(/^./, \">\");\n    }\n  }).join(\"\\n\");\n\n  if (highlighted) {\n    return _chalk2[\"default\"].reset(frame);\n  } else {\n    return frame;\n  }\n};\n\nmodule.exports = exports[\"default\"];"]}