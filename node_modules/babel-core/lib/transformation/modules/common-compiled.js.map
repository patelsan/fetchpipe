{"version":3,"sources":["common.js"],"names":[],"mappings":"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","file":"common-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// istanbul ignore next\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// istanbul ignore next\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _default = require(\"./_default\");\n\nvar _default2 = _interopRequireDefault(_default);\n\nvar _util = require(\"../../util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _types = require(\"../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\n/**\n * [Please add a description.]\n */\n\nvar CommonJSFormatter = (function (_DefaultFormatter) {\n  _inherits(CommonJSFormatter, _DefaultFormatter);\n\n  function CommonJSFormatter() {\n    _classCallCheck(this, CommonJSFormatter);\n\n    _DefaultFormatter.apply(this, arguments);\n  }\n\n  /**\n   * [Please add a description.]\n   */\n\n  CommonJSFormatter.prototype.setup = function setup() {\n    this._setup(this.hasLocalExports);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  CommonJSFormatter.prototype._setup = function _setup(conditional) {\n    var file = this.file;\n    var scope = file.scope;\n\n    scope.rename(\"module\");\n    scope.rename(\"exports\");\n\n    if (!this.noInteropRequireImport && conditional) {\n      var templateName = \"exports-module-declaration\";\n      if (this.file.isLoose(\"es6.modules\")) templateName += \"-loose\";\n      var declar = util.template(templateName, true);\n      declar._blockHoist = 3;\n      file.path.unshiftContainer(\"body\", [declar]);\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  CommonJSFormatter.prototype.transform = function transform(program) {\n    _default2[\"default\"].prototype.transform.apply(this, arguments);\n\n    if (this.hasDefaultOnlyExport) {\n      program.body.push(t.expressionStatement(t.assignmentExpression(\"=\", t.memberExpression(t.identifier(\"module\"), t.identifier(\"exports\")), t.memberExpression(t.identifier(\"exports\"), t.identifier(\"default\")))));\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  CommonJSFormatter.prototype.importSpecifier = function importSpecifier(specifier, node, nodes, scope) {\n    var variableName = specifier.local;\n\n    var ref = this.getExternalReference(node, nodes);\n\n    // import foo from \"foo\";\n    if (t.isSpecifierDefault(specifier)) {\n      if (this.isModuleType(node, \"absolute\")) {\n        // absolute module reference\n      } else if (this.isModuleType(node, \"absoluteDefault\")) {\n          this.remaps.add(scope, variableName.name, ref);\n        } else if (this.noInteropRequireImport) {\n          this.remaps.add(scope, variableName.name, t.memberExpression(ref, t.identifier(\"default\")));\n        } else {\n          var uid = this.scope.generateUidIdentifierBasedOnNode(node, \"import\");\n\n          nodes.push(t.variableDeclaration(\"var\", [t.variableDeclarator(uid, t.callExpression(this.file.addHelper(\"interop-require-default\"), [ref]))]));\n\n          this.remaps.add(scope, variableName.name, t.memberExpression(uid, t.identifier(\"default\")));\n        }\n    } else {\n      if (t.isImportNamespaceSpecifier(specifier)) {\n        if (!this.noInteropRequireImport) {\n          ref = t.callExpression(this.file.addHelper(\"interop-require-wildcard\"), [ref]);\n        }\n\n        // import * as bar from \"foo\";\n        nodes.push(t.variableDeclaration(\"var\", [t.variableDeclarator(variableName, ref)]));\n      } else {\n        // import { foo } from \"foo\";\n        this.remaps.add(scope, variableName.name, t.memberExpression(ref, t.identifier(specifier.imported.name)));\n      }\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  CommonJSFormatter.prototype.importDeclaration = function importDeclaration(node, nodes) {\n    // import \"foo\";\n    nodes.push(util.template(\"require\", {\n      MODULE_NAME: node.source\n    }, true));\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  CommonJSFormatter.prototype.exportSpecifier = function exportSpecifier(specifier) {\n    if (this.doDefaultExportInterop(specifier)) {\n      this.hasDefaultOnlyExport = true;\n    }\n\n    _default2[\"default\"].prototype.exportSpecifier.apply(this, arguments);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  CommonJSFormatter.prototype.exportDeclaration = function exportDeclaration(node) {\n    if (this.doDefaultExportInterop(node)) {\n      this.hasDefaultOnlyExport = true;\n    }\n\n    _default2[\"default\"].prototype.exportDeclaration.apply(this, arguments);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  CommonJSFormatter.prototype._getExternalReference = function _getExternalReference(node, nodes) {\n    var call = t.callExpression(t.identifier(\"require\"), [node.source]);\n    var uid;\n\n    if (this.isModuleType(node, \"absolute\")) {\n      // absolute module reference\n    } else if (this.isModuleType(node, \"absoluteDefault\")) {\n        call = t.memberExpression(call, t.identifier(\"default\"));\n      } else {\n        uid = this.scope.generateUidIdentifierBasedOnNode(node, \"import\");\n      }\n\n    uid = uid || node.specifiers[0].local;\n\n    var declar = t.variableDeclaration(\"var\", [t.variableDeclarator(uid, call)]);\n    nodes.push(declar);\n    return uid;\n  };\n\n  return CommonJSFormatter;\n})(_default2[\"default\"]);\n\nexports[\"default\"] = CommonJSFormatter;\nmodule.exports = exports[\"default\"];"]}