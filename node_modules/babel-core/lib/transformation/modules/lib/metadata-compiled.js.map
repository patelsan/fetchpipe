{"version":3,"sources":["metadata.js"],"names":[],"mappings":"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","file":"metadata-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.ExportDeclaration = ExportDeclaration;\nexports.Scope = Scope;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _lodashObjectExtend = require(\"lodash/object/extend\");\n\nvar _lodashObjectExtend2 = _interopRequireDefault(_lodashObjectExtend);\n\nvar _types = require(\"../../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\n/**\n * [Please add a description.]\n */\n\nvar ModuleDeclaration = {\n  enter: function enter(node, parent, scope, formatter) {\n    if (node.source) {\n      node.source.value = formatter.file.resolveModuleSource(node.source.value);\n      formatter.addScope(this);\n    }\n  }\n};\n\nexports.ModuleDeclaration = ModuleDeclaration;\n/**\n * [Please add a description.]\n */\n\nvar ImportDeclaration = {\n  exit: function exit(node, parent, scope, formatter) {\n    formatter.hasLocalImports = true;\n\n    var specifiers = [];\n    var imported = [];\n    formatter.metadata.imports.push({\n      source: node.source.value,\n      imported: imported,\n      specifiers: specifiers\n    });\n\n    var _arr = this.get(\"specifiers\");\n\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var specifier = _arr[_i];\n      var ids = specifier.getBindingIdentifiers();\n      _lodashObjectExtend2[\"default\"](formatter.localImports, ids);\n\n      var local = specifier.node.local.name;\n\n      if (specifier.isImportDefaultSpecifier()) {\n        imported.push(\"default\");\n        specifiers.push({\n          kind: \"named\",\n          imported: \"default\",\n          local: local\n        });\n      }\n\n      if (specifier.isImportSpecifier()) {\n        var importedName = specifier.node.imported.name;\n        imported.push(importedName);\n        specifiers.push({\n          kind: \"named\",\n          imported: importedName,\n          local: local\n        });\n      }\n\n      if (specifier.isImportNamespaceSpecifier()) {\n        imported.push(\"*\");\n        specifiers.push({\n          kind: \"namespace\",\n          local: local\n        });\n      }\n    }\n  }\n};\n\nexports.ImportDeclaration = ImportDeclaration;\n/**\n * [Please add a description.]\n */\n\nfunction ExportDeclaration(node, parent, scope, formatter) {\n  formatter.hasLocalExports = true;\n\n  var source = node.source ? node.source.value : null;\n  var exports = formatter.metadata.exports;\n\n  // export function foo() {}\n  // export var foo = \"bar\";\n  var declar = this.get(\"declaration\");\n  if (declar.isStatement()) {\n    var bindings = declar.getBindingIdentifiers();\n\n    for (var name in bindings) {\n      var binding = bindings[name];\n      formatter._addExport(name, binding);\n\n      exports.exported.push(name);\n      exports.specifiers.push({\n        kind: \"local\",\n        local: name,\n        exported: this.isExportDefaultDeclaration() ? \"default\" : name\n      });\n    }\n  }\n\n  if (this.isExportNamedDeclaration() && node.specifiers) {\n    var _arr2 = node.specifiers;\n\n    for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n      var specifier = _arr2[_i2];\n      var exported = specifier.exported.name;\n      exports.exported.push(exported);\n\n      // export foo from \"bar\";\n      if (t.isExportDefaultSpecifier(specifier)) {\n        exports.specifiers.push({\n          kind: \"external\",\n          local: exported,\n          exported: exported,\n          source: source\n        });\n      }\n\n      // export * as foo from \"bar\";\n      if (t.isExportNamespaceSpecifier(specifier)) {\n        exports.specifiers.push({\n          kind: \"external-namespace\",\n          exported: exported,\n          source: source\n        });\n      }\n\n      var local = specifier.local;\n      if (!local) continue;\n\n      formatter._addExport(local.name, specifier.exported);\n\n      // export { foo } from \"bar\";\n      // export { foo as bar } from \"bar\";\n      if (source) {\n        exports.specifiers.push({\n          kind: \"external\",\n          local: local.name,\n          exported: exported,\n          source: source\n        });\n      }\n\n      // export { foo };\n      // export { foo as bar };\n      if (!source) {\n        exports.specifiers.push({\n          kind: \"local\",\n          local: local.name,\n          exported: exported\n        });\n      }\n    }\n  }\n\n  // export * from \"bar\";\n  if (this.isExportAllDeclaration()) {\n    exports.specifiers.push({\n      kind: \"external-all\",\n      source: source\n    });\n  }\n\n  if (!t.isExportDefaultDeclaration(node) && !declar.isTypeAlias()) {\n    var onlyDefault = node.specifiers && node.specifiers.length === 1 && t.isSpecifierDefault(node.specifiers[0]);\n    if (!onlyDefault) {\n      formatter.hasNonDefaultExports = true;\n    }\n  }\n}\n\n/**\n * [Please add a description.]\n */\n\nfunction Scope(node, parent, scope, formatter) {\n  if (!formatter.isLoose()) {\n    this.skip();\n  }\n}"]}