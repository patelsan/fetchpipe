{"version":3,"sources":["comprehensions.js"],"names":[],"mappings":"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","file":"comprehensions-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _helpersBuildComprehension = require(\"../../helpers/build-comprehension\");\n\nvar _helpersBuildComprehension2 = _interopRequireDefault(_helpersBuildComprehension);\n\nvar _traversal = require(\"../../../traversal\");\n\nvar _traversal2 = _interopRequireDefault(_traversal);\n\nvar _util = require(\"../../../util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _types = require(\"../../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\nvar metadata = {\n  stage: 0\n};\n\nexports.metadata = metadata;\n/**\n * [Please add a description.]\n */\n\nvar visitor = {\n\n  /**\n   * [Please add a description.]\n   */\n\n  ComprehensionExpression: function ComprehensionExpression(node, parent, scope) {\n    var callback = array;\n    if (node.generator) callback = generator;\n    return callback(node, parent, scope);\n  }\n};\n\nexports.visitor = visitor;\n/**\n * [Please add a description.]\n */\n\nfunction generator(node) {\n  var body = [];\n  var container = t.functionExpression(null, [], t.blockStatement(body), true);\n  container.shadow = true;\n\n  body.push(_helpersBuildComprehension2[\"default\"](node, function () {\n    return t.expressionStatement(t.yieldExpression(node.body));\n  }));\n\n  return t.callExpression(container, []);\n}\n\n/**\n * [Please add a description.]\n */\n\nfunction array(node, parent, scope) {\n  var uid = scope.generateUidIdentifierBasedOnNode(parent);\n\n  var container = util.template(\"array-comprehension-container\", {\n    KEY: uid\n  });\n  container.callee.shadow = true;\n\n  var block = container.callee.body;\n  var body = block.body;\n\n  if (_traversal2[\"default\"].hasType(node, scope, \"YieldExpression\", t.FUNCTION_TYPES)) {\n    container.callee.generator = true;\n    container = t.yieldExpression(container, true);\n  }\n\n  var returnStatement = body.pop();\n\n  body.push(_helpersBuildComprehension2[\"default\"](node, function () {\n    return util.template(\"array-push\", {\n      STATEMENT: node.body,\n      KEY: uid\n    }, true);\n  }));\n  body.push(returnStatement);\n\n  return container;\n}"]}