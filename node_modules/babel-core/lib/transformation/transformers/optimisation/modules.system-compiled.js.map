{"version":3,"sources":["modules.system.js"],"names":[],"mappings":"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","file":"modules.system-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\nvar _types = require(\"../../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\nvar metadata = {\n  optional: true,\n  group: \"builtin-trailing\"\n};\n\nexports.metadata = metadata;\nvar visitor = {\n  Program: function Program(node, parent, scope, file) {\n    if (file.moduleFormatter._setters) {\n      scope.traverse(file.moduleFormatter._setters, optimizeSettersVisitor, {\n        exportFunctionIdentifier: file.moduleFormatter.exportIdentifier\n      });\n    }\n  }\n};\n\nexports.visitor = visitor;\n/**\n * Setters are optimized to avoid slow export behavior in modules that rely on deep hierarchies\n * of export-from declarations.\n * More info in https://github.com/babel/babel/pull/1722 and\n * https://github.com/ModuleLoader/es6-module-loader/issues/386.\n *\n * TODO: Ideally this would be optimized during construction of the setters, but the current\n * architecture of the module formatters make that difficult.\n */\nvar optimizeSettersVisitor = {\n  FunctionExpression: {\n    enter: function enter(node, parent, scope, state) {\n      state.hasExports = false;\n      state.exportObjectIdentifier = scope.generateUidIdentifier(\"exportObj\");\n    },\n    exit: function exit(node, parent, scope, state) {\n      if (!state.hasExports) return;\n\n      node.body.body.unshift(t.variableDeclaration(\"var\", [t.variableDeclarator(t.cloneDeep(state.exportObjectIdentifier), t.objectExpression([]))]));\n      node.body.body.push(t.expressionStatement(t.callExpression(t.cloneDeep(state.exportFunctionIdentifier), [t.cloneDeep(state.exportObjectIdentifier)])));\n    }\n  },\n  CallExpression: function CallExpression(node, parent, scope, state) {\n    if (!t.isIdentifier(node.callee, { name: state.exportFunctionIdentifier.name })) return;\n\n    state.hasExports = true;\n    var memberNode = t.memberExpression(t.cloneDeep(state.exportObjectIdentifier), node.arguments[0], true);\n    return t.assignmentExpression(\"=\", memberNode, node.arguments[1]);\n  }\n};"]}