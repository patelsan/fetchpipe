{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _definitions = require(\"./definitions\");\n\nvar _definitions2 = _interopRequireDefault(_definitions);\n\nexports[\"default\"] = function (_ref) {\n  var Plugin = _ref.Plugin;\n  var t = _ref.types;\n\n  var RUNTIME_MODULE_NAME = \"babel-runtime\";\n\n  function has(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n  }\n\n  return new Plugin(\"runtime\", {\n    metadata: {\n      group: \"builtin-post-modules\"\n    },\n\n    pre: function pre(file) {\n      file.set(\"helperGenerator\", function (name) {\n        return file.addImport(RUNTIME_MODULE_NAME + \"/helpers/\" + name, name, \"absoluteDefault\");\n      });\n\n      file.setDynamic(\"regeneratorIdentifier\", function () {\n        return file.addImport(RUNTIME_MODULE_NAME + \"/regenerator\", \"regeneratorRuntime\", \"absoluteDefault\");\n      });\n    },\n\n    visitor: {\n      ReferencedIdentifier: function ReferencedIdentifier(node, parent, scope, file) {\n        if (node.name === \"regeneratorRuntime\") {\n          return file.get(\"regeneratorIdentifier\");\n        }\n\n        if (t.isMemberExpression(parent)) return;\n        if (!has(_definitions2[\"default\"].builtins, node.name)) return;\n        if (scope.getBindingIdentifier(node.name)) return;\n\n        // Symbol() -> _core.Symbol(); new Promise -> new _core.Promise\n        var modulePath = _definitions2[\"default\"].builtins[node.name];\n        return file.addImport(RUNTIME_MODULE_NAME + \"/core-js/\" + modulePath, node.name, \"absoluteDefault\");\n      },\n\n      CallExpression: function CallExpression(node, parent, scope, file) {\n        // arr[Symbol.iterator]() -> _core.$for.getIterator(arr)\n\n        if (node.arguments.length) return;\n\n        var callee = node.callee;\n        if (!t.isMemberExpression(callee)) return;\n        if (!callee.computed) return;\n        if (!this.get(\"callee.property\").matchesPattern(\"Symbol.iterator\")) return;\n\n        return t.callExpression(file.addImport(RUNTIME_MODULE_NAME + \"/core-js/get-iterator\", \"getIterator\", \"absoluteDefault\"), [callee.object]);\n      },\n\n      BinaryExpression: function BinaryExpression(node, parent, scope, file) {\n        // Symbol.iterator in arr -> core.$for.isIterable(arr)\n\n        if (node.operator !== \"in\") return;\n        if (!this.get(\"left\").matchesPattern(\"Symbol.iterator\")) return;\n\n        return t.callExpression(file.addImport(RUNTIME_MODULE_NAME + \"/core-js/is-iterable\", \"isIterable\", \"absoluteDefault\"), [node.right]);\n      },\n\n      MemberExpression: {\n        enter: function enter(node, parent, scope, file) {\n          // Array.from -> _core.Array.from\n\n          if (!this.isReferenced()) return;\n\n          var obj = node.object;\n          var prop = node.property;\n\n          if (!t.isReferenced(obj, node)) return;\n\n          if (node.computed) return;\n\n          if (!has(_definitions2[\"default\"].methods, obj.name)) return;\n\n          var methods = _definitions2[\"default\"].methods[obj.name];\n          if (!has(methods, prop.name)) return;\n\n          // doesn't reference the global\n          if (scope.getBindingIdentifier(obj.name)) return;\n\n          // special case Object.defineProperty to not use core-js when using string keys\n          if (obj.name === \"Object\" && prop.name === \"defineProperty\" && this.parentPath.isCallExpression()) {\n            var call = this.parentPath.node;\n            if (call.arguments.length === 3 && t.isLiteral(call.arguments[1])) return;\n          }\n\n          var modulePath = methods[prop.name];\n          return file.addImport(RUNTIME_MODULE_NAME + \"/core-js/\" + modulePath, obj.name + \"$\" + prop.name, \"absoluteDefault\");\n        },\n\n        exit: function exit(node, parent, scope, file) {\n          if (!this.isReferenced()) return;\n\n          var prop = node.property;\n          var obj = node.object;\n\n          if (!has(_definitions2[\"default\"].builtins, obj.name)) return;\n          if (scope.getBindingIdentifier(obj.name)) return;\n\n          var modulePath = _definitions2[\"default\"].builtins[obj.name];\n          return t.memberExpression(file.addImport(RUNTIME_MODULE_NAME + \"/core-js/\" + modulePath, \"\" + obj.name, \"absoluteDefault\"), prop);\n        }\n      }\n    }\n  });\n};\n\nmodule.exports = exports[\"default\"];"]}