{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var Blob = require('../');\nvar expect = require('expect.js');\n\ndescribe('blob', function() {\n  if (!Blob) {\n    it('should not have a blob or a blob builder in the global namespace, or blob should not be a constructor function if the module exports false', function() {\n      try {\n        var ab = (new Uint8Array(5)).buffer;\n        global.Blob([ab]);\n        expect().fail('Blob shouldn\\'t be constructable');\n      } catch (e) {}\n\n      var BlobBuilder = global.BlobBuilder\n        || global.WebKitBlobBuilder\n        || global.MSBlobBuilder\n        || global.MozBlobBuilder;\n      expect(BlobBuilder).to.be(undefined);\n    });\n  } else {\n    it('should encode a proper sized blob when given a string argument', function() {\n      var b = new Blob(['hi']);\n      expect(b.size).to.be(2);\n    });\n\n    it('should encode a blob with proper size when given two strings as arguments', function() {\n      var b = new Blob(['hi', 'hello']);\n      expect(b.size).to.be(7);\n    });\n\n    it('should encode arraybuffers with right content', function(done) {\n      var ary = new Uint8Array(5);\n      for (var i = 0; i < 5; i++) ary[i] = i;\n      var b = new Blob([ary.buffer]);\n      var fr = new FileReader();\n      fr.onload = function() {\n        var newAry = new Uint8Array(this.result);\n        for (var i = 0; i < 5; i++) expect(newAry[i]).to.be(i);\n        done();\n      };\n      fr.readAsArrayBuffer(b);\n    });\n\n    it('should encode typed arrays with right content', function(done) {\n      var ary = new Uint8Array(5);\n      for (var i = 0; i < 5; i++) ary[i] = i;\n      var b = new Blob([ary]);\n      var fr = new FileReader();\n      fr.onload = function() {\n        var newAry = new Uint8Array(this.result);\n        for (var i = 0; i < 5; i++) expect(newAry[i]).to.be(i);\n        done();\n      };\n      fr.readAsArrayBuffer(b);\n    });\n\n    it('should encode sliced typed arrays with right content', function(done) {\n      var ary = new Uint8Array(5);\n      for (var i = 0; i < 5; i++) ary[i] = i;\n      var b = new Blob([ary.subarray(2)]);\n      var fr = new FileReader();\n      fr.onload = function() {\n        var newAry = new Uint8Array(this.result);\n        for (var i = 0; i < 3; i++) expect(newAry[i]).to.be(i + 2);\n        done();\n      };\n      fr.readAsArrayBuffer(b);\n    });\n\n    it('should encode with blobs', function(done) {\n      var ary = new Uint8Array(5);\n      for (var i = 0; i < 5; i++) ary[i] = i;\n      var b = new Blob([new Blob([ary.buffer])]);\n      var fr = new FileReader();\n      fr.onload = function() {\n        var newAry = new Uint8Array(this.result);\n        for (var i = 0; i < 5; i++) expect(newAry[i]).to.be(i);\n        done();\n      };\n      fr.readAsArrayBuffer(b);\n    });\n\n    it('should enode mixed contents to right size', function() {\n      var ary = new Uint8Array(5);\n      for (var i = 0; i < 5; i++) ary[i] = i;\n      var b = new Blob([ary.buffer, 'hello']);\n      expect(b.size).to.be(10);\n    });\n\n    it('should accept mime type', function() {\n      var b = new Blob(['hi', 'hello'], { type: 'text/html' });\n      expect(b.type).to.be('text/html');\n    });\n  }\n});\n"]}