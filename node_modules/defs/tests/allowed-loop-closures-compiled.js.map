{"version":3,"sources":["allowed-loop-closures.js"],"names":[],"mappings":"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","file":"allowed-loop-closures-compiled.js","sourcesContent":["\"use strict\";\nvar arr = [];\n\n// can be transformed (common WAT)\nfor (var x = 0; x < 10; x++) {\n    arr.push(function() { return x; });\n}\n\n// can be transformed (common manual work-around)\nfor (let x = 0; x < 3; x++) {\n    arr.push((function(x) { return function() { return x; } })(x));\n}\n\n// can be transformed (no extra IIFE will be inserted)\nfor (let x = 0; x < 3; x++) {(function(){\n    let y = 1;\n    arr.push(function() { return y; });\n}).call(this);}\n\n// can be transformed (added IIFE)\nfor (let x = 0; x < 3; x++) {\n    let y = 1;\n    arr.push(function() { return y; });\n}\n\n// can be transformed (added IIFE)\nfor (let x = 0; x < 3; x++) {\n    let y = x;\n    arr.push(function() { return y; });\n}\n\n// can be transformed (added IIFE)\nfor (let x = 0; x < 3; x++) {\n    let y = x, z = arr.push(function() { return y; });\n}\n\n// can be transformed (added IIFE)\nfor (let x = 0; x < 3; x++) {\n    let x = 1;\n    arr.push(function() { return x; });\n}\n\n// can be transformed (added IIFE)\nwhile (true) {\n    let f = function() {\n        for (let x = 0; x < 10; x++) {\n            let y = x;\n            arr.push(function() { return y; });\n        }\n    };\n    f();\n}\n\n// it's fine to use break, continue, return and arguments as long as\n// it's contained within a function below the loop so that it doesn't\n// interfere with the inserted IIFE\n(function() {\n    for (let x = 0; x < 3; x++) {\n        let y = x;\n        (function() {\n            for(;;) break;\n            return;\n        })();\n        (function() {\n            for(;;) continue;\n            arguments\n        })();\n        arr.push(function() { return y; });\n    }\n})();\n\n// For-In\nfor (let x in [0,1,2]) {\n    arr.push(function() { return x; });\n}\n\n// Block-less For-In\nfor (let x in [0,1,2]) arr.push(function() { return x; });/*with semicolon*/\nfor (let x in [0,1,2]) arr.push(function() { return x; })/*no semicolon*/\n\nnull; // previous semicolon-less for statement's range ends just before 'n' in 'null'\n\n// For-Of\nfor (let x of [0,1,2]) {\n    arr.push(function() { return x; });\n}\n\n// Block-less For-Of\nfor (let x of [0,1,2]) arr.push(function() { return x; });/*with semicolon*/\nfor (let x of [0,1,2]) arr.push(function() { return x; })/*no semicolon*/\n\nnull; // previous semicolon-less for statement's range ends just before 'n' in 'null'\n\n// While\nwhile (true) {\n    let x = 1;\n    arr.push(function() { return x; });\n}\n\n// Do-While\ndo {\n    let x = 1;\n    arr.push(function() { return x; });\n} while (true);\n\narr.forEach(function(f) {\n    console.log(f());\n});\n"]}