{"version":3,"sources":["allowed-loop-closures-out.js"],"names":[],"mappings":"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","file":"allowed-loop-closures-out-compiled.js","sourcesContent":["\"use strict\";\nvar arr = [];\n\n// can be transformed (common WAT)\nfor (var x = 0; x < 10; x++) {\n    arr.push(function() { return x; });\n}\n\n// can be transformed (common manual work-around)\nfor (var x$0 = 0; x$0 < 3; x$0++) {\n    arr.push((function(x) { return function() { return x; } })(x$0));\n}\n\n// can be transformed (no extra IIFE will be inserted)\nfor (var x$1 = 0; x$1 < 3; x$1++) {(function(){\n    var y = 1;\n    arr.push(function() { return y; });\n}).call(this);}\n\n// can be transformed (added IIFE)\nfor (var x$2 = 0; x$2 < 3; x$2++) {(function(){\n    var y = 1;\n    arr.push(function() { return y; });\n}).call(this);}\n\n// can be transformed (added IIFE)\nfor (var x$3 = 0; x$3 < 3; x$3++) {(function(){\n    var y = x$3;\n    arr.push(function() { return y; });\n}).call(this);}\n\n// can be transformed (added IIFE)\nfor (var x$4 = 0; x$4 < 3; x$4++) {(function(){\n    var y = x$4, z = arr.push(function() { return y; });\n}).call(this);}\n\n// can be transformed (added IIFE)\nfor (var x$5 = 0; x$5 < 3; x$5++) {(function(){\n    var x = 1;\n    arr.push(function() { return x; });\n}).call(this);}\n\n// can be transformed (added IIFE)\nwhile (true) {\n    var f = function() {\n        for (var x = 0; x < 10; x++) {(function(){\n            var y = x;\n            arr.push(function() { return y; });\n        }).call(this);}\n    };\n    f();\n}\n\n// it's fine to use break, continue, return and arguments as long as\n// it's contained within a function below the loop so that it doesn't\n// interfere with the inserted IIFE\n(function() {\n    for (var x = 0; x < 3; x++) {(function(){\n        var y = x;\n        (function() {\n            for(;;) break;\n            return;\n        })();\n        (function() {\n            for(;;) continue;\n            arguments\n        })();\n        arr.push(function() { return y; });\n    }).call(this);}\n})();\n\n// For-In\nfor (var x$6 in [0,1,2]) {(function(x){\n    arr.push(function() { return x; });\n}).call(this, x$6);}\n\n// Block-less For-In\nfor (var x$7 in [0,1,2]) (function(x){arr.push(function() { return x; });}).call(this, x$7);/*with semicolon*/\nfor (var x$8 in [0,1,2]) (function(x){arr.push(function() { return x; })}).call(this, x$8);/*no semicolon*/\n\nnull; // previous semicolon-less for statement's range ends just before 'n' in 'null'\n\n// For-Of\nfor (var x$9 of [0,1,2]) {(function(x){\n    arr.push(function() { return x; });\n}).call(this, x$9);}\n\n// Block-less For-Of\nfor (var x$10 of [0,1,2]) (function(x){arr.push(function() { return x; });}).call(this, x$10);/*with semicolon*/\nfor (var x$11 of [0,1,2]) (function(x){arr.push(function() { return x; })}).call(this, x$11);/*no semicolon*/\n\nnull; // previous semicolon-less for statement's range ends just before 'n' in 'null'\n\n// While\nwhile (true) {(function(){\n    var x = 1;\n    arr.push(function() { return x; });\n}).call(this);}\n\n// Do-While\ndo {(function(){\n    var x = 1;\n    arr.push(function() { return x; });\n}).call(this);} while (true);\n\narr.forEach(function(f) {\n    console.log(f());\n});\n"]}