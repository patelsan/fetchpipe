{"version":3,"sources":["shim.js"],"names":[],"mappings":"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","file":"shim-compiled.js","sourcesContent":["// Big thanks to @WebReflection for sorting this out\n// https://gist.github.com/WebReflection/5593554\n\n'use strict';\n\nvar isObject      = require('../is-object')\n  , value         = require('../valid-value')\n\n  , isPrototypeOf = Object.prototype.isPrototypeOf\n  , defineProperty = Object.defineProperty\n  , nullDesc = { configurable: true, enumerable: false, writable: true,\n\t\tvalue: undefined }\n  , validate;\n\nvalidate = function (obj, prototype) {\n\tvalue(obj);\n\tif ((prototype === null) || isObject(prototype)) return obj;\n\tthrow new TypeError('Prototype must be null or an object');\n};\n\nmodule.exports = (function (status) {\n\tvar fn, set;\n\tif (!status) return null;\n\tif (status.level === 2) {\n\t\tif (status.set) {\n\t\t\tset = status.set;\n\t\t\tfn = function (obj, prototype) {\n\t\t\t\tset.call(validate(obj, prototype), prototype);\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t} else {\n\t\t\tfn = function (obj, prototype) {\n\t\t\t\tvalidate(obj, prototype).__proto__ = prototype;\n\t\t\t\treturn obj;\n\t\t\t};\n\t\t}\n\t} else {\n\t\tfn = function self(obj, prototype) {\n\t\t\tvar isNullBase;\n\t\t\tvalidate(obj, prototype);\n\t\t\tisNullBase = isPrototypeOf.call(self.nullPolyfill, obj);\n\t\t\tif (isNullBase) delete self.nullPolyfill.__proto__;\n\t\t\tif (prototype === null) prototype = self.nullPolyfill;\n\t\t\tobj.__proto__ = prototype;\n\t\t\tif (isNullBase) defineProperty(self.nullPolyfill, '__proto__', nullDesc);\n\t\t\treturn obj;\n\t\t};\n\t}\n\treturn Object.defineProperty(fn, 'level', { configurable: false,\n\t\tenumerable: false, writable: false, value: status.level });\n}((function () {\n\tvar x = Object.create(null), y = {}, set\n\t  , desc = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__');\n\n\tif (desc) {\n\t\ttry {\n\t\t\tset = desc.set; // Opera crashes at this point\n\t\t\tset.call(x, y);\n\t\t} catch (ignore) { }\n\t\tif (Object.getPrototypeOf(x) === y) return { set: set, level: 2 };\n\t}\n\n\tx.__proto__ = y;\n\tif (Object.getPrototypeOf(x) === y) return { level: 2 };\n\n\tx = {};\n\tx.__proto__ = y;\n\tif (Object.getPrototypeOf(x) === y) return { level: 1 };\n\n\treturn false;\n}())));\n\nrequire('../create');\n"]}