{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar clear    = require('es5-ext/array/#/clear')\n  , assign   = require('es5-ext/object/assign')\n  , callable = require('es5-ext/object/valid-callable')\n  , value    = require('es5-ext/object/valid-value')\n  , d        = require('d')\n  , autoBind = require('d/auto-bind')\n  , Symbol   = require('es6-symbol')\n\n  , defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , Iterator;\n\nmodule.exports = Iterator = function (list, context) {\n\tif (!(this instanceof Iterator)) return new Iterator(list, context);\n\tdefineProperties(this, {\n\t\t__list__: d('w', value(list)),\n\t\t__context__: d('w', context),\n\t\t__nextIndex__: d('w', 0)\n\t});\n\tif (!context) return;\n\tcallable(context.on);\n\tcontext.on('_add', this._onAdd);\n\tcontext.on('_delete', this._onDelete);\n\tcontext.on('_clear', this._onClear);\n};\n\ndefineProperties(Iterator.prototype, assign({\n\tconstructor: d(Iterator),\n\t_next: d(function () {\n\t\tvar i;\n\t\tif (!this.__list__) return;\n\t\tif (this.__redo__) {\n\t\t\ti = this.__redo__.shift();\n\t\t\tif (i !== undefined) return i;\n\t\t}\n\t\tif (this.__nextIndex__ < this.__list__.length) return this.__nextIndex__++;\n\t\tthis._unBind();\n\t}),\n\tnext: d(function () { return this._createResult(this._next()); }),\n\t_createResult: d(function (i) {\n\t\tif (i === undefined) return { done: true, value: undefined };\n\t\treturn { done: false, value: this._resolve(i) };\n\t}),\n\t_resolve: d(function (i) { return this.__list__[i]; }),\n\t_unBind: d(function () {\n\t\tthis.__list__ = null;\n\t\tdelete this.__redo__;\n\t\tif (!this.__context__) return;\n\t\tthis.__context__.off('_add', this._onAdd);\n\t\tthis.__context__.off('_delete', this._onDelete);\n\t\tthis.__context__.off('_clear', this._onClear);\n\t\tthis.__context__ = null;\n\t}),\n\ttoString: d(function () { return '[object Iterator]'; })\n}, autoBind({\n\t_onAdd: d(function (index) {\n\t\tif (index >= this.__nextIndex__) return;\n\t\t++this.__nextIndex__;\n\t\tif (!this.__redo__) {\n\t\t\tdefineProperty(this, '__redo__', d('c', [index]));\n\t\t\treturn;\n\t\t}\n\t\tthis.__redo__.forEach(function (redo, i) {\n\t\t\tif (redo >= index) this.__redo__[i] = ++redo;\n\t\t}, this);\n\t\tthis.__redo__.push(index);\n\t}),\n\t_onDelete: d(function (index) {\n\t\tvar i;\n\t\tif (index >= this.__nextIndex__) return;\n\t\t--this.__nextIndex__;\n\t\tif (!this.__redo__) return;\n\t\ti = this.__redo__.indexOf(index);\n\t\tif (i !== -1) this.__redo__.splice(i, 1);\n\t\tthis.__redo__.forEach(function (redo, i) {\n\t\t\tif (redo > index) this.__redo__[i] = --redo;\n\t\t}, this);\n\t}),\n\t_onClear: d(function () {\n\t\tif (this.__redo__) clear.call(this.__redo__);\n\t\tthis.__nextIndex__ = 0;\n\t})\n})));\n\ndefineProperty(Iterator.prototype, Symbol.iterator, d(function () {\n\treturn this;\n}));\ndefineProperty(Iterator.prototype, Symbol.toStringTag, d('', 'Iterator'));\n"]}