{"version":3,"sources":["pathname-expansion.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;;AAWb,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE1B,MAAM,CAAC,OAAO,GAAG,SAAS,YAAY,CAAC,WAAW,EAAE;AAClD,MAAI,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE;AAC3B,eAAW,GAAG,CAAC,WAAW,CAAC,CAAC;GAC7B;;AAED,MAAI,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,EAAE,UAAS,UAAU,EAAE,UAAU,EAAE;AAC7E,WAAO,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;GAClD,EAAE,EAAE,CAAC,CAAC,CAAC;;AAER,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC1C,cAAU,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AACnD,cAAU,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;GACpD;AACD,SAAO,UAAU,CAAC,IAAI,EAAE,CAAC;CAC1B,CAAC;;AAEF,SAAS,UAAU,CAAC,UAAU,EAAE;AAC9B,MAAI,WAAW,GAAG,eAAe,CAAC,UAAU,CAAC,CAAC;AAC9C,MAAI,CAAC,WAAW,CAAC,MAAM,EAAE;AACvB,WAAO,CAAC,UAAU,CAAC,CAAC;GACrB;AACD,MAAI,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAClF,SAAO,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,UAAS,UAAU,EAAE,MAAM,EAAE;AACpD,WAAO,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,GAAG,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;GACnI,EAAE,EAAE,CAAC,CAAC;CACR;;AAED,SAAS,eAAe,CAAC,UAAU,EAAE;AACnC,MAAI,OAAO,GAAG,KAAK,CAAC;AACpB,MAAI,WAAW,GAAG,EAAE,CAAC;AACrB,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC1C,QAAI,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAC7B,QAAI,CAAC,KAAK,IAAI,EAAE,OAAO,GAAG,IAAI,CAAC,KAC1B,IAAI,CAAC,OAAO,EAAE;AACjB,UAAI,CAAC,KAAK,GAAG,EAAE,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,KAC5B,IAAI,CAAC,KAAK,GAAG,EAAE;AAClB,YAAI,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;AAC5D,mBAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;OACrB;KACF,MAAM,OAAO,GAAG,KAAK,CAAC;GACxB;AACD,MAAI,WAAW,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;AAChF,SAAO,WAAW,CAAC;CACpB","file":"pathname-expansion-compiled.js","sourcesContent":["'use strict';\n\n/**\n * The below is slightly modified from https://github.com/dtudury/pathname-expansion/blob/master/lib/expandBraces.js\n * The module is not published on npm, this was just an attempt to see if\n * I should spend time doing PRs or just start from scratch. To that end,\n * some minor changes were made to get this code to work.\n *\n * Also note that this does not expand ranges, e.g. `{01..05}`\n */\n\nvar _ = require('lodash');\n\nmodule.exports = function expandBraces(expressions) {\n  if (_.isString(expressions)) {\n    expressions = [expressions];\n  }\n\n  var expansions = _.uniq(_.reduce(expressions, function(expansions, expression) {\n    return expansions.concat(_insideOut(expression));\n  }, []));\n\n  for (var i = 0; i < expansions.length; i++) {\n    expansions[i] = expansions[i].replace(/\\\\}/g, '}');\n    expansions[i] = expansions[i].replace(/\\\\{/g, '{');\n  }\n  return expansions.sort();\n};\n\nfunction _insideOut(expression) {\n  var innerBraces = _getInnerBraces(expression);\n  if (!innerBraces.length) {\n    return [expression];\n  }\n  var choices = expression.substring(innerBraces[0] + 1, innerBraces[1]).split(',');\n  return _.reduce(choices, function(expansions, choice) {\n    return expansions.concat(_insideOut(expression.substring(0, innerBraces[0]) + choice + expression.substring(innerBraces[1] + 1)));\n  }, []);\n}\n\nfunction _getInnerBraces(expression) {\n  var escaped = false;\n  var innerBraces = [];\n  for (var i = 0; i < expression.length; i++) {\n    var c = expression.charAt(i);\n    if (c === '\\\\') escaped = true;\n    else if (!escaped) {\n      if (c === '{') innerBraces = [i];\n      else if (c === '}') {\n        if (!innerBraces.length) throw new Error('unmatched brace');\n        innerBraces.push(i);\n      }\n    } else escaped = false;\n  }\n  if (innerBraces && innerBraces.length === 1) throw new Error('unmatched brace');\n  return innerBraces;\n}"]}