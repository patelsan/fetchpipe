{"version":3,"sources":["configure.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,MAAM,CAAC,OAAO,GAAG,OAAO,GAAG,SAAS,CAAC;;AAErC,OAAO,CAAC,KAAK,GAAG,gDAAgD,CAAC;;AAEjE,IAAI,OAAO,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;AAC3C,IAAI,eAAe,GAAG,OAAO,CAAC,2BAA2B,CAAC,CAAC;;AAE3D,SAAS,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE;AACpC,mBAAe,CAAC,GAAG,EAAC,IAAI,EAAC,UAAS,GAAG,EAAC,MAAM,EAAE;AAC1C,YAAI,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;;AAE/C,YAAI,cAAc,GAAG,CAAC,UAAU,EAAC,QAAQ,EAAC,SAAS,EAAC,cAAc,CAAC,CAAC;AACpE,sBAAc,CAAC,OAAO,CAAC,UAAS,GAAG,EAAE;AACjC,gBAAI,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC,CAAC;AAC1D,gBAAI,GAAG,EAAE;AACN,0BAAU,CAAC,IAAI,CAAC,IAAI,GAAC,GAAG,GAAC,GAAG,GAAC,GAAG,CAAC,CAAC;aACpC;SACJ,CAAC,CAAC;;;;AAIH,YAAI,GAAG,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;AAC3B,gBAAI,YAAY,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,SAAS,EAAC,gBAAgB,CAAC,CAAC,CAAC;AACnE,mBAAO,CAAC,OAAO,CAAC,YAAY,EAAC,MAAM,CAAC,IAAI,EAAC,UAAS,GAAG,EAAE;AACnD,oBAAI,GAAG,EAAE,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC9B,oBAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AAC5B,8BAAU,GAAG,UAAU,CACT,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CACd,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;iBACzC;AACD,uBAAO,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,EAAC,MAAM,CAAC,IAAI,EAAC,UAAS,GAAG,EAAE;AACvE,2BAAO,QAAQ,CAAC,GAAG,CAAC,CAAC;iBACxB,CAAC,CAAC;aACN,CAAC,CAAC;SACN,MAAM;AACH,gBAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AAC5B,0BAAU,GAAG,UAAU,CACT,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CACd,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;aACzC;AACD,mBAAO,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,EAAC,MAAM,CAAC,IAAI,EAAC,UAAS,GAAG,EAAE;AACvE,uBAAO,QAAQ,CAAC,GAAG,CAAC,CAAC;aACxB,CAAC,CAAC;SACN;KACJ,CAAC,CAAC;CACN","file":"configure-compiled.js","sourcesContent":["\"use strict\";\n\nmodule.exports = exports = configure;\n\nexports.usage = 'Attempts to configure node-gyp or nw-gyp build';\n\nvar compile = require('./util/compile.js');\nvar handle_gyp_opts = require('./util/handle_gyp_opts.js');\n\nfunction configure(gyp, argv, callback) {\n    handle_gyp_opts(gyp,argv,function(err,result) {\n        var final_args = result.gyp.concat(result.pre);\n        // pull select node-gyp configure options out of the npm environ\n        var known_gyp_args = ['dist-url','python','nodedir','msvs_version'];\n        known_gyp_args.forEach(function(key) {\n            var val = gyp.opts[key] || gyp.opts[key.replace('-','_')];\n            if (val) {\n               final_args.push('--'+key+'='+val);\n            }\n        });\n        // --ensure=false tell node-gyp to re-install node development headers\n        // but it is only respected by node-gyp install, so we have to call install\n        // as a separate step if the user passes it\n        if (gyp.opts.ensure === false) {\n            var install_args = final_args.concat(['install','--ensure=false']);\n            compile.run_gyp(install_args,result.opts,function(err) {\n                if (err) return callback(err);\n                if (result.unparsed.length > 0) {\n                    final_args = final_args.\n                                  concat(['--']).\n                                  concat(result.unparsed);\n                }\n                compile.run_gyp(['configure'].concat(final_args),result.opts,function(err) {\n                    return callback(err);\n                });\n            });\n        } else {\n            if (result.unparsed.length > 0) {\n                final_args = final_args.\n                              concat(['--']).\n                              concat(result.unparsed);\n            }\n            compile.run_gyp(['configure'].concat(final_args),result.opts,function(err) {\n                return callback(err);\n            });\n        }\n    });\n}\n"]}