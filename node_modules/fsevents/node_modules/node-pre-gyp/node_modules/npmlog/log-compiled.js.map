{"version":3,"sources":["log.js"],"names":[],"mappings":"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","file":"log-compiled.js","sourcesContent":["'use strict'\nvar Progress = require('are-we-there-yet')\nvar Gauge = require('gauge')\nvar EE = require('events').EventEmitter\nvar log = exports = module.exports = new EE\nvar util = require('util')\n\nvar ansi = require('ansi')\nlog.cursor = ansi(process.stderr)\nlog.stream = process.stderr\n\n// by default, let ansi decide based on tty-ness.\nvar colorEnabled = undefined\nlog.enableColor = function () {\n  colorEnabled = true\n  this.cursor.enabled = true\n}\nlog.disableColor = function () {\n  colorEnabled = false\n  this.cursor.enabled = false\n}\n\n// default level\nlog.level = 'info'\n\nlog.gauge = new Gauge(log.cursor)\nlog.tracker = new Progress.TrackerGroup()\n\n// no progress bars unless asked\nlog.progressEnabled = false\n\nvar gaugeTheme = undefined\n\nlog.enableUnicode = function () {\n  gaugeTheme = Gauge.unicode\n  log.gauge.setTheme(gaugeTheme)\n}\n\nlog.disableUnicode = function () {\n  gaugeTheme = Gauge.ascii\n  log.gauge.setTheme(gaugeTheme)\n}\n\nvar gaugeTemplate = undefined\nlog.setGaugeTemplate = function (template) {\n  gaugeTemplate = template\n  log.gauge.setTemplate(gaugeTemplate)\n}\n\nlog.enableProgress = function () {\n  if (this.progressEnabled) return\n  this.progressEnabled = true\n  if (this._pause) return\n  this.tracker.on('change', this.showProgress)\n  this.gauge.enable()\n  this.showProgress()\n}\n\nlog.disableProgress = function () {\n  if (!this.progressEnabled) return\n  this.clearProgress()\n  this.progressEnabled = false\n  this.tracker.removeListener('change', this.showProgress)\n  this.gauge.disable()\n}\n\nvar trackerConstructors = ['newGroup', 'newItem', 'newStream']\n\nvar mixinLog = function (tracker) {\n  // mixin the public methods from log into the tracker\n  // (except: conflicts and one's we handle specially)\n  Object.keys(log).forEach(function (P) {\n    if (P[0] === '_') return\n    if (trackerConstructors.filter(function (C) { return C === P }).length) return\n    if (tracker[P]) return\n    if (typeof log[P] !== 'function') return\n    var func = log[P]\n    tracker[P] = function () {\n      return func.apply(log, arguments)\n    }\n  })\n  // if the new tracker is a group, make sure any subtrackers get\n  // mixed in too\n  if (tracker instanceof Progress.TrackerGroup) {\n    trackerConstructors.forEach(function (C) {\n      var func = tracker[C]\n      tracker[C] = function () { return mixinLog(func.apply(tracker, arguments)) }\n    })\n  }\n  return tracker\n}\n\n// Add tracker constructors to the top level log object\ntrackerConstructors.forEach(function (C) {\n  log[C] = function () { return mixinLog(this.tracker[C].apply(this.tracker, arguments)) }\n})\n\nlog.clearProgress = function () {\n  if (!this.progressEnabled) return\n  this.gauge.hide()\n}\n\nlog.showProgress = function (name) {\n  if (!this.progressEnabled) return\n  this.gauge.show(name, this.tracker.completed())\n}.bind(log) // bind for use in tracker's on-change listener\n\n// temporarily stop emitting, but don't drop\nlog.pause = function () {\n  this._paused = true\n}\n\nlog.resume = function () {\n  if (!this._paused) return\n  this._paused = false\n\n  var b = this._buffer\n  this._buffer = []\n  b.forEach(function (m) {\n    this.emitLog(m)\n  }, this)\n  if (this.progressEnabled) this.enableProgress()\n}\n\nlog._buffer = []\n\nvar id = 0\nlog.record = []\nlog.maxRecordSize = 10000\nlog.log = function (lvl, prefix, message) {\n  var l = this.levels[lvl]\n  if (l === undefined) {\n    return this.emit('error', new Error(util.format(\n      'Undefined log level: %j', lvl)))\n  }\n\n  var a = new Array(arguments.length - 2)\n  var stack = null\n  for (var i = 2; i < arguments.length; i ++) {\n    var arg = a[i-2] = arguments[i]\n\n    // resolve stack traces to a plain string.\n    if (typeof arg === 'object' && arg &&\n        (arg instanceof Error) && arg.stack) {\n      arg.stack = stack = arg.stack + ''\n    }\n  }\n  if (stack) a.unshift(stack + '\\n')\n  message = util.format.apply(util, a)\n\n  var m = { id: id++,\n            level: lvl,\n            prefix: String(prefix || ''),\n            message: message,\n            messageRaw: a }\n\n  this.emit('log', m)\n  this.emit('log.' + lvl, m)\n  if (m.prefix) this.emit(m.prefix, m)\n\n  this.record.push(m)\n  var mrs = this.maxRecordSize\n  var n = this.record.length - mrs\n  if (n > mrs / 10) {\n    var newSize = Math.floor(mrs * 0.9)\n    this.record = this.record.slice(-1 * newSize)\n  }\n\n  this.emitLog(m)\n}.bind(log)\n\nlog.emitLog = function (m) {\n  if (this._paused) {\n    this._buffer.push(m)\n    return\n  }\n  if (this.progressEnabled) this.gauge.pulse(m.prefix)\n  var l = this.levels[m.level]\n  if (l === undefined) return\n  if (l < this.levels[this.level]) return\n  if (l > 0 && !isFinite(l)) return\n\n  var style = log.style[m.level]\n  var disp = log.disp[m.level] || m.level\n  this.clearProgress()\n  m.message.split(/\\r?\\n/).forEach(function (line) {\n    if (this.heading) {\n      this.write(this.heading, this.headingStyle)\n      this.write(' ')\n    }\n    this.write(disp, log.style[m.level])\n    var p = m.prefix || ''\n    if (p) this.write(' ')\n    this.write(p, this.prefixStyle)\n    this.write(' ' + line + '\\n')\n  }, this)\n  this.showProgress()\n}\n\nlog.write = function (msg, style) {\n  if (!this.cursor) return\n  if (this.stream !== this.cursor.stream) {\n    this.cursor = ansi(this.stream, { enabled: colorEnabled })\n    var options = {}\n    if (gaugeTheme != null) options.theme = gaugeTheme\n    if (gaugeTemplate != null) options.template = gaugeTemplate\n    this.gauge = new Gauge(options, this.cursor)\n  }\n\n  style = style || {}\n  if (style.fg) this.cursor.fg[style.fg]()\n  if (style.bg) this.cursor.bg[style.bg]()\n  if (style.bold) this.cursor.bold()\n  if (style.underline) this.cursor.underline()\n  if (style.inverse) this.cursor.inverse()\n  if (style.beep) this.cursor.beep()\n  this.cursor.write(msg).reset()\n}\n\nlog.addLevel = function (lvl, n, style, disp) {\n  if (!disp) disp = lvl\n  this.levels[lvl] = n\n  this.style[lvl] = style\n  if (!this[lvl]) this[lvl] = function () {\n    var a = new Array(arguments.length + 1)\n    a[0] = lvl\n    for (var i = 0; i < arguments.length; i ++) {\n      a[i + 1] = arguments[i]\n    }\n    return this.log.apply(this, a)\n  }.bind(this)\n  this.disp[lvl] = disp\n}\n\nlog.prefixStyle = { fg: 'magenta' }\nlog.headingStyle = { fg: 'white', bg: 'black' }\n\nlog.style = {}\nlog.levels = {}\nlog.disp = {}\nlog.addLevel('silly', -Infinity, { inverse: true }, 'sill')\nlog.addLevel('verbose', 1000, { fg: 'blue', bg: 'black' }, 'verb')\nlog.addLevel('info', 2000, { fg: 'green' })\nlog.addLevel('http', 3000, { fg: 'green', bg: 'black' })\nlog.addLevel('warn', 4000, { fg: 'black', bg: 'yellow' }, 'WARN')\nlog.addLevel('error', 5000, { fg: 'red', bg: 'black' }, 'ERR!')\nlog.addLevel('silent', Infinity)\n"]}