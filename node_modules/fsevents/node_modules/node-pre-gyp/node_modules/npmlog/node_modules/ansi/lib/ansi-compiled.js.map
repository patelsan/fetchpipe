{"version":3,"sources":["ansi.js"],"names":[],"mappings":"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","file":"ansi-compiled.js","sourcesContent":["\n/**\n * References:\n *\n *   - http://en.wikipedia.org/wiki/ANSI_escape_code\n *   - http://www.termsys.demon.co.uk/vtansi.htm\n *\n */\n\n/**\n * Module dependencies.\n */\n\nvar emitNewlineEvents = require('./newlines')\n  , prefix = '\\x1b[' // For all escape codes\n  , suffix = 'm'     // Only for color codes\n\n/**\n * The ANSI escape sequences.\n */\n\nvar codes = {\n    up: 'A'\n  , down: 'B'\n  , forward: 'C'\n  , back: 'D'\n  , nextLine: 'E'\n  , previousLine: 'F'\n  , horizontalAbsolute: 'G'\n  , eraseData: 'J'\n  , eraseLine: 'K'\n  , scrollUp: 'S'\n  , scrollDown: 'T'\n  , savePosition: 's'\n  , restorePosition: 'u'\n  , queryPosition: '6n'\n  , hide: '?25l'\n  , show: '?25h'\n}\n\n/**\n * Rendering ANSI codes.\n */\n\nvar styles = {\n    bold: 1\n  , italic: 3\n  , underline: 4\n  , inverse: 7\n}\n\n/**\n * The negating ANSI code for the rendering modes.\n */\n\nvar reset = {\n    bold: 22\n  , italic: 23\n  , underline: 24\n  , inverse: 27\n}\n\n/**\n * The standard, styleable ANSI colors.\n */\n\nvar colors = {\n    white: 37\n  , black: 30\n  , blue: 34\n  , cyan: 36\n  , green: 32\n  , magenta: 35\n  , red: 31\n  , yellow: 33\n  , grey: 90\n  , brightBlack: 90\n  , brightRed: 91\n  , brightGreen: 92\n  , brightYellow: 93\n  , brightBlue: 94\n  , brightMagenta: 95\n  , brightCyan: 96\n  , brightWhite: 97\n}\n\n\n/**\n * Creates a Cursor instance based off the given `writable stream` instance.\n */\n\nfunction ansi (stream, options) {\n  if (stream._ansicursor) {\n    return stream._ansicursor\n  } else {\n    return stream._ansicursor = new Cursor(stream, options)\n  }\n}\nmodule.exports = exports = ansi\n\n/**\n * The `Cursor` class.\n */\n\nfunction Cursor (stream, options) {\n  if (!(this instanceof Cursor)) {\n    return new Cursor(stream, options)\n  }\n  if (typeof stream != 'object' || typeof stream.write != 'function') {\n    throw new Error('a valid Stream instance must be passed in')\n  }\n\n  // the stream to use\n  this.stream = stream\n\n  // when 'enabled' is false then all the functions are no-ops except for write()\n  this.enabled = options && options.enabled\n  if (typeof this.enabled === 'undefined') {\n    this.enabled = stream.isTTY\n  }\n  this.enabled = !!this.enabled\n\n  // then `buffering` is true, then `write()` calls are buffered in\n  // memory until `flush()` is invoked\n  this.buffering = !!(options && options.buffering)\n  this._buffer = []\n\n  // controls the foreground and background colors\n  this.fg = this.foreground = new Colorer(this, 0)\n  this.bg = this.background = new Colorer(this, 10)\n\n  // defaults\n  this.Bold = false\n  this.Italic = false\n  this.Underline = false\n  this.Inverse = false\n\n  // keep track of the number of \"newlines\" that get encountered\n  this.newlines = 0\n  emitNewlineEvents(stream)\n  stream.on('newline', function () {\n    this.newlines++\n  }.bind(this))\n}\nexports.Cursor = Cursor\n\n/**\n * Helper function that calls `write()` on the underlying Stream.\n * Returns `this` instead of the write() return value to keep\n * the chaining going.\n */\n\nCursor.prototype.write = function (data) {\n  if (this.buffering) {\n    this._buffer.push(arguments)\n  } else {\n    this.stream.write.apply(this.stream, arguments)\n  }\n  return this\n}\n\n/**\n * Buffer `write()` calls into memory.\n *\n * @api public\n */\n\nCursor.prototype.buffer = function () {\n  this.buffering = true\n  return this\n}\n\n/**\n * Write out the in-memory buffer.\n *\n * @api public\n */\n\nCursor.prototype.flush = function () {\n  this.buffering = false\n  var str = this._buffer.map(function (args) {\n    if (args.length != 1) throw new Error('unexpected args length! ' + args.length);\n    return args[0];\n  }).join('');\n  this._buffer.splice(0); // empty\n  this.write(str);\n  return this\n}\n\n\n/**\n * The `Colorer` class manages both the background and foreground colors.\n */\n\nfunction Colorer (cursor, base) {\n  this.current = null\n  this.cursor = cursor\n  this.base = base\n}\nexports.Colorer = Colorer\n\n/**\n * Write an ANSI color code, ensuring that the same code doesn't get rewritten.\n */\n\nColorer.prototype._setColorCode = function setColorCode (code) {\n  var c = String(code)\n  if (this.current === c) return\n  this.cursor.enabled && this.cursor.write(prefix + c + suffix)\n  this.current = c\n  return this\n}\n\n\n/**\n * Set up the positional ANSI codes.\n */\n\nObject.keys(codes).forEach(function (name) {\n  var code = String(codes[name])\n  Cursor.prototype[name] = function () {\n    var c = code\n    if (arguments.length > 0) {\n      c = toArray(arguments).map(Math.round).join(';') + code\n    }\n    this.enabled && this.write(prefix + c)\n    return this\n  }\n})\n\n/**\n * Set up the functions for the rendering ANSI codes.\n */\n\nObject.keys(styles).forEach(function (style) {\n  var name = style[0].toUpperCase() + style.substring(1)\n    , c = styles[style]\n    , r = reset[style]\n\n  Cursor.prototype[style] = function () {\n    if (this[name]) return\n    this.enabled && this.write(prefix + c + suffix)\n    this[name] = true\n    return this\n  }\n\n  Cursor.prototype['reset' + name] = function () {\n    if (!this[name]) return\n    this.enabled && this.write(prefix + r + suffix)\n    this[name] = false\n    return this\n  }\n})\n\n/**\n * Setup the functions for the standard colors.\n */\n\nObject.keys(colors).forEach(function (color) {\n  var code = colors[color]\n\n  Colorer.prototype[color] = function () {\n    this._setColorCode(this.base + code)\n    return this.cursor\n  }\n\n  Cursor.prototype[color] = function () {\n    return this.foreground[color]()\n  }\n})\n\n/**\n * Makes a beep sound!\n */\n\nCursor.prototype.beep = function () {\n  this.enabled && this.write('\\x07')\n  return this\n}\n\n/**\n * Moves cursor to specific position\n */\n\nCursor.prototype.goto = function (x, y) {\n  x = x | 0\n  y = y | 0\n  this.enabled && this.write(prefix + y + ';' + x + 'H')\n  return this\n}\n\n/**\n * Resets the color.\n */\n\nColorer.prototype.reset = function () {\n  this._setColorCode(this.base + 39)\n  return this.cursor\n}\n\n/**\n * Resets all ANSI formatting on the stream.\n */\n\nCursor.prototype.reset = function () {\n  this.enabled && this.write(prefix + '0' + suffix)\n  this.Bold = false\n  this.Italic = false\n  this.Underline = false\n  this.Inverse = false\n  this.foreground.current = null\n  this.background.current = null\n  return this\n}\n\n/**\n * Sets the foreground color with the given RGB values.\n * The closest match out of the 216 colors is picked.\n */\n\nColorer.prototype.rgb = function (r, g, b) {\n  var base = this.base + 38\n    , code = rgb(r, g, b)\n  this._setColorCode(base + ';5;' + code)\n  return this.cursor\n}\n\n/**\n * Same as `cursor.fg.rgb(r, g, b)`.\n */\n\nCursor.prototype.rgb = function (r, g, b) {\n  return this.foreground.rgb(r, g, b)\n}\n\n/**\n * Accepts CSS color codes for use with ANSI escape codes.\n * For example: `#FF000` would be bright red.\n */\n\nColorer.prototype.hex = function (color) {\n  return this.rgb.apply(this, hex(color))\n}\n\n/**\n * Same as `cursor.fg.hex(color)`.\n */\n\nCursor.prototype.hex = function (color) {\n  return this.foreground.hex(color)\n}\n\n\n// UTIL FUNCTIONS //\n\n/**\n * Translates a 255 RGB value to a 0-5 ANSI RGV value,\n * then returns the single ANSI color code to use.\n */\n\nfunction rgb (r, g, b) {\n  var red = r / 255 * 5\n    , green = g / 255 * 5\n    , blue = b / 255 * 5\n  return rgb5(red, green, blue)\n}\n\n/**\n * Turns rgb 0-5 values into a single ANSI color code to use.\n */\n\nfunction rgb5 (r, g, b) {\n  var red = Math.round(r)\n    , green = Math.round(g)\n    , blue = Math.round(b)\n  return 16 + (red*36) + (green*6) + blue\n}\n\n/**\n * Accepts a hex CSS color code string (# is optional) and\n * translates it into an Array of 3 RGB 0-255 values, which\n * can then be used with rgb().\n */\n\nfunction hex (color) {\n  var c = color[0] === '#' ? color.substring(1) : color\n    , r = c.substring(0, 2)\n    , g = c.substring(2, 4)\n    , b = c.substring(4, 6)\n  return [parseInt(r, 16), parseInt(g, 16), parseInt(b, 16)]\n}\n\n/**\n * Turns an array-like object into a real array.\n */\n\nfunction toArray (a) {\n  var i = 0\n    , l = a.length\n    , rtn = []\n  for (; i<l; i++) {\n    rtn.push(a[i])\n  }\n  return rtn\n}\n"]}