{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["module.exports = function (args, opts) {\n    if (!opts) opts = {};\n    \n    var flags = { bools : {}, strings : {}, unknownFn: null };\n\n    if (typeof opts['unknown'] === 'function') {\n        flags.unknownFn = opts['unknown'];\n    }\n\n    if (typeof opts['boolean'] === 'boolean' && opts['boolean']) {\n      flags.allBools = true;\n    } else {\n      [].concat(opts['boolean']).filter(Boolean).forEach(function (key) {\n          flags.bools[key] = true;\n      });\n    }\n    \n    var aliases = {};\n    Object.keys(opts.alias || {}).forEach(function (key) {\n        aliases[key] = [].concat(opts.alias[key]);\n        aliases[key].forEach(function (x) {\n            aliases[x] = [key].concat(aliases[key].filter(function (y) {\n                return x !== y;\n            }));\n        });\n    });\n\n    [].concat(opts.string).filter(Boolean).forEach(function (key) {\n        flags.strings[key] = true;\n        if (aliases[key]) {\n            flags.strings[aliases[key]] = true;\n        }\n     });\n\n    var defaults = opts['default'] || {};\n    \n    var argv = { _ : [] };\n    Object.keys(flags.bools).forEach(function (key) {\n        setArg(key, defaults[key] === undefined ? false : defaults[key]);\n    });\n    \n    var notFlags = [];\n\n    if (args.indexOf('--') !== -1) {\n        notFlags = args.slice(args.indexOf('--')+1);\n        args = args.slice(0, args.indexOf('--'));\n    }\n\n    function argDefined(key, arg) {\n        return (flags.allBools && /^--[^=]+$/.test(arg)) ||\n            flags.strings[key] || flags.bools[key] || aliases[key];\n    }\n\n    function setArg (key, val, arg) {\n        if (arg && flags.unknownFn && !argDefined(key, arg)) {\n            if (flags.unknownFn(arg) === false) return;\n        }\n\n        var value = !flags.strings[key] && isNumber(val)\n            ? Number(val) : val\n        ;\n        setKey(argv, key.split('.'), value);\n        \n        (aliases[key] || []).forEach(function (x) {\n            setKey(argv, x.split('.'), value);\n        });\n    }\n\n    function setKey (obj, keys, value) {\n        var o = obj;\n        keys.slice(0,-1).forEach(function (key) {\n            if (o[key] === undefined) o[key] = {};\n            o = o[key];\n        });\n\n        var key = keys[keys.length - 1];\n        if (o[key] === undefined || flags.bools[key] || typeof o[key] === 'boolean') {\n            o[key] = value;\n        }\n        else if (Array.isArray(o[key])) {\n            o[key].push(value);\n        }\n        else {\n            o[key] = [ o[key], value ];\n        }\n    }\n    \n    function aliasIsBoolean(key) {\n      return aliases[key].some(function (x) {\n          return flags.bools[x];\n      });\n    }\n\n    for (var i = 0; i < args.length; i++) {\n        var arg = args[i];\n        \n        if (/^--.+=/.test(arg)) {\n            // Using [\\s\\S] instead of . because js doesn't support the\n            // 'dotall' regex modifier. See:\n            // http://stackoverflow.com/a/1068308/13216\n            var m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\n            var key = m[1];\n            var value = m[2];\n            if (flags.bools[key]) {\n                value = value !== 'false';\n            }\n            setArg(key, value, arg);\n        }\n        else if (/^--no-.+/.test(arg)) {\n            var key = arg.match(/^--no-(.+)/)[1];\n            setArg(key, false, arg);\n        }\n        else if (/^--.+/.test(arg)) {\n            var key = arg.match(/^--(.+)/)[1];\n            var next = args[i + 1];\n            if (next !== undefined && !/^-/.test(next)\n            && !flags.bools[key]\n            && !flags.allBools\n            && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                setArg(key, next, arg);\n                i++;\n            }\n            else if (/^(true|false)$/.test(next)) {\n                setArg(key, next === 'true', arg);\n                i++;\n            }\n            else {\n                setArg(key, flags.strings[key] ? '' : true, arg);\n            }\n        }\n        else if (/^-[^-]+/.test(arg)) {\n            var letters = arg.slice(1,-1).split('');\n            \n            var broken = false;\n            for (var j = 0; j < letters.length; j++) {\n                var next = arg.slice(j+2);\n                \n                if (next === '-') {\n                    setArg(letters[j], next, arg)\n                    continue;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j]) && /=/.test(next)) {\n                    setArg(letters[j], next.split('=')[1], arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j])\n                && /-?\\d+(\\.\\d*)?(e-?\\d+)?$/.test(next)) {\n                    setArg(letters[j], next, arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (letters[j+1] && letters[j+1].match(/\\W/)) {\n                    setArg(letters[j], arg.slice(j+2), arg);\n                    broken = true;\n                    break;\n                }\n                else {\n                    setArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\n                }\n            }\n            \n            var key = arg.slice(-1)[0];\n            if (!broken && key !== '-') {\n                if (args[i+1] && !/^(-|--)[^-]/.test(args[i+1])\n                && !flags.bools[key]\n                && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                    setArg(key, args[i+1], arg);\n                    i++;\n                }\n                else if (args[i+1] && /true|false/.test(args[i+1])) {\n                    setArg(key, args[i+1] === 'true', arg);\n                    i++;\n                }\n                else {\n                    setArg(key, flags.strings[key] ? '' : true, arg);\n                }\n            }\n        }\n        else {\n            if (!flags.unknownFn || flags.unknownFn(arg) !== false) {\n                argv._.push(\n                    flags.strings['_'] || !isNumber(arg) ? arg : Number(arg)\n                );\n            }\n            if (opts.stopEarly) {\n                argv._.push.apply(argv._, args.slice(i + 1));\n                break;\n            }\n        }\n    }\n    \n    Object.keys(defaults).forEach(function (key) {\n        if (!hasKey(argv, key.split('.'))) {\n            setKey(argv, key.split('.'), defaults[key]);\n            \n            (aliases[key] || []).forEach(function (x) {\n                setKey(argv, x.split('.'), defaults[key]);\n            });\n        }\n    });\n    \n    if (opts['--']) {\n        argv['--'] = new Array();\n        notFlags.forEach(function(key) {\n            argv['--'].push(key);\n        });\n    }\n    else {\n        notFlags.forEach(function(key) {\n            argv._.push(key);\n        });\n    }\n\n    return argv;\n};\n\nfunction hasKey (obj, keys) {\n    var o = obj;\n    keys.slice(0,-1).forEach(function (key) {\n        o = (o[key] || {});\n    });\n\n    var key = keys[keys.length - 1];\n    return key in o;\n}\n\nfunction isNumber (x) {\n    if (typeof x === 'number') return true;\n    if (/^0x[0-9a-f]+$/i.test(x)) return true;\n    return /^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/.test(x);\n}\n\n"]}