{"version":3,"sources":["bind.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;AACb,MAAM,CAAC,OAAO,GAAG,UAAS,OAAO,EAAE,QAAQ,EAAE,mBAAmB,EAAE;AAClE,QAAI,UAAU,GAAG,SAAb,UAAU,CAAY,CAAC,EAAE,CAAC,EAAE;AAC5B,YAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;KACnB,CAAC;;AAEF,QAAI,cAAc,GAAG,SAAjB,cAAc,CAAY,CAAC,EAAE,OAAO,EAAE;AACtC,eAAO,CAAC,sBAAsB,GAAG,IAAI,CAAC;AACtC,eAAO,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;KACvE,CAAC;;AAEF,QAAI,eAAe,GAAG,SAAlB,eAAe,CAAY,OAAO,EAAE,OAAO,EAAE;AAC7C,YAAI,IAAI,CAAC,UAAU,EAAE,EAAE;AACnB,gBAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;SACzC;KACJ,CAAC;;AAEF,QAAI,eAAe,GAAG,SAAlB,eAAe,CAAY,CAAC,EAAE,OAAO,EAAE;AACvC,YAAI,CAAC,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;KACxD,CAAC;;AAEF,WAAO,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,OAAO,EAAE;AACxC,YAAI,YAAY,GAAG,mBAAmB,CAAC,OAAO,CAAC,CAAC;AAChD,YAAI,GAAG,GAAG,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC;AAChC,WAAG,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;AAC5B,YAAI,MAAM,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;;AAE5B,WAAG,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;AAC9B,YAAI,YAAY,YAAY,OAAO,EAAE;AACjC,gBAAI,OAAO,GAAG;AACV,sCAAsB,EAAE,KAAK;AAC7B,uBAAO,EAAE,GAAG;AACZ,sBAAM,EAAE,MAAM;AACd,8BAAc,EAAE,YAAY;aAC/B,CAAC;AACF,kBAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,cAAc,EAAE,GAAG,CAAC,SAAS,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;AACpE,wBAAY,CAAC,KAAK,CACd,eAAe,EAAE,eAAe,EAAE,GAAG,CAAC,SAAS,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;SACtE,MAAM;AACH,eAAG,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;SAChC;AACD,eAAO,GAAG,CAAC;KACd,CAAC;;AAEF,WAAO,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,GAAG,EAAE;AAC3C,YAAI,GAAG,KAAK,SAAS,EAAE;AACnB,gBAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;AACzC,gBAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;SACvB,MAAM;AACH,gBAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAI,CAAC,MAAM,AAAC,CAAC;SAC/C;KACJ,CAAC;;AAEF,WAAO,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;AACrC,eAAO,CAAC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAA,KAAM,MAAM,CAAC;KAC/C,CAAC;;AAEF,WAAO,CAAC,IAAI,GAAG,UAAU,OAAO,EAAE,KAAK,EAAE;AACrC,YAAI,YAAY,GAAG,mBAAmB,CAAC,OAAO,CAAC,CAAC;AAChD,YAAI,GAAG,GAAG,IAAI,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEhC,WAAG,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;AAC9B,YAAI,YAAY,YAAY,OAAO,EAAE;AACjC,wBAAY,CAAC,KAAK,CAAC,YAAW;AAC1B,mBAAG,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;aAC/B,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC7C,MAAM;AACH,eAAG,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SAC/B;AACD,eAAO,GAAG,CAAC;KACd,CAAC;CACD,CAAC","file":"bind-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise) {\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (this._isPending()) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, ret._progress, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, ret._progress, ret, context);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 131072;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~131072);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 131072) === 131072;\n};\n\nPromise.bind = function (thisArg, value) {\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        maybePromise._then(function() {\n            ret._resolveCallback(value);\n        }, ret._reject, ret._progress, ret, null);\n    } else {\n        ret._resolveCallback(value);\n    }\n    return ret;\n};\n};\n"]}