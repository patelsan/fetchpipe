{"version":3,"sources":["debuggability.js"],"names":[],"mappings":"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","file":"debuggability-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, CapturedTrace) {\nvar getDomain = Promise._getDomain;\nvar async = require(\"./async.js\");\nvar Warning = require(\"./errors.js\").Warning;\nvar util = require(\"./util.js\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar debugging = false || (util.isNode &&\n                    (!!process.env[\"BLUEBIRD_DEBUG\"] ||\n                     process.env[\"NODE_ENV\"] === \"development\"));\n\nif (util.isNode && process.env[\"BLUEBIRD_DEBUG\"] == 0) debugging = false;\n\nif (debugging) {\n    async.disableTrampolineIfNecessary();\n}\n\nPromise.prototype._ignoreRejections = function() {\n    this._unsetRejectionIsUnhandled();\n    this._bitField = this._bitField | 16777216;\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 16777216) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    CapturedTrace.fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._getCarriedStackTrace() || this._settledValue;\n        this._setUnhandledRejectionIsNotified();\n        CapturedTrace.fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 524288;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~524288);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 524288) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 2097152;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~2097152);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 2097152) > 0;\n};\n\nPromise.prototype._setCarriedStackTrace = function (capturedTrace) {\n    this._bitField = this._bitField | 1048576;\n    this._fulfillmentHandler0 = capturedTrace;\n};\n\nPromise.prototype._isCarryingStackTrace = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._getCarriedStackTrace = function () {\n    return this._isCarryingStackTrace()\n        ? this._fulfillmentHandler0\n        : undefined;\n};\n\nPromise.prototype._captureStackTrace = function () {\n    if (debugging) {\n        this._trace = new CapturedTrace(this._peekContext());\n    }\n    return this;\n};\n\nPromise.prototype._attachExtraTrace = function (error, ignoreSelf) {\n    if (debugging && canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = CapturedTrace.parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n};\n\nPromise.prototype._warn = function(message) {\n    var warning = new Warning(message);\n    var ctx = this._peekContext();\n    if (ctx) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = CapturedTrace.parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n    CapturedTrace.formatAndLogError(warning, \"\");\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ? fn : domain.bind(fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ? fn : domain.bind(fn))\n                                 : undefined;\n};\n\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() &&\n        debugging === false\n   ) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/DT1qyG\\u000a\");\n    }\n    debugging = CapturedTrace.isSupported();\n    if (debugging) {\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return debugging && CapturedTrace.isSupported();\n};\n\nif (!CapturedTrace.isSupported()) {\n    Promise.longStackTraces = function(){};\n    debugging = false;\n}\n\nreturn function() {\n    return debugging;\n};\n};\n"]}