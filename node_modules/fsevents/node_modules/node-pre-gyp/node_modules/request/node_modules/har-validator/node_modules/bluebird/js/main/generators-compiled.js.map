{"version":3,"sources":["generators.js"],"names":[],"mappings":"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","file":"generators-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise) {\nvar errors = require(\"./errors.js\");\nvar TypeError = errors.TypeError;\nvar util = require(\"./util.js\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    var promise = this._promise = new Promise(INTERNAL);\n    promise._captureStackTrace();\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n}\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._next(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    if (result === errorObj) {\n        return this._promise._rejectCallback(result.e, false, true);\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._promise._resolveCallback(value);\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._throw(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/4Y4pDk\\u000a\\u000a\".replace(\"%s\", value) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise._then(\n            this._next,\n            this._throw,\n            undefined,\n            this,\n            null\n       );\n    }\n};\n\nPromiseSpawn.prototype._throw = function (reason) {\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._next = function (value) {\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/6Vqhm0\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        spawn._generator = generator;\n        spawn._next(undefined);\n        return spawn.promise();\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") throw new TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/6Vqhm0\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n"]}