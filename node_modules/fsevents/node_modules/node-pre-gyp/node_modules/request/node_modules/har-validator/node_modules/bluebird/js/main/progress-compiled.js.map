{"version":3,"sources":["progress.js"],"names":[],"mappings":"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","file":"progress-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, PromiseArray) {\nvar util = require(\"./util.js\");\nvar async = require(\"./async.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nPromise.prototype.progressed = function (handler) {\n    return this._then(undefined, undefined, handler, undefined, undefined);\n};\n\nPromise.prototype._progress = function (progressValue) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    this._target()._progressUnchecked(progressValue);\n\n};\n\nPromise.prototype._progressHandlerAt = function (index) {\n    return index === 0\n        ? this._progressHandler0\n        : this[(index << 2) + index - 5 + 2];\n};\n\nPromise.prototype._doProgressWith = function (progression) {\n    var progressValue = progression.value;\n    var handler = progression.handler;\n    var promise = progression.promise;\n    var receiver = progression.receiver;\n\n    var ret = tryCatch(handler).call(receiver, progressValue);\n    if (ret === errorObj) {\n        if (ret.e != null &&\n            ret.e.name !== \"StopProgressPropagation\") {\n            var trace = util.canAttachTrace(ret.e)\n                ? ret.e : new Error(util.toString(ret.e));\n            promise._attachExtraTrace(trace);\n            promise._progress(ret.e);\n        }\n    } else if (ret instanceof Promise) {\n        ret._then(promise._progress, null, null, promise, undefined);\n    } else {\n        promise._progress(ret);\n    }\n};\n\n\nPromise.prototype._progressUnchecked = function (progressValue) {\n    var len = this._length();\n    var progress = this._progress;\n    for (var i = 0; i < len; i++) {\n        var handler = this._progressHandlerAt(i);\n        var promise = this._promiseAt(i);\n        if (!(promise instanceof Promise)) {\n            var receiver = this._receiverAt(i);\n            if (typeof handler === \"function\") {\n                handler.call(receiver, progressValue, promise);\n            } else if (receiver instanceof PromiseArray &&\n                       !receiver._isResolved()) {\n                receiver._promiseProgressed(progressValue, promise);\n            }\n            continue;\n        }\n\n        if (typeof handler === \"function\") {\n            async.invoke(this._doProgressWith, this, {\n                handler: handler,\n                promise: promise,\n                receiver: this._receiverAt(i),\n                value: progressValue\n            });\n        } else {\n            async.invoke(progress, promise, progressValue);\n        }\n    }\n};\n};\n"]}