{"version":3,"sources":["promise.js"],"names":[],"mappings":"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","file":"promise-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/LhFpo0\\u000a\");\n};\nvar reflect = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\n\nvar util = require(\"./util.js\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar UNDEFINED_BINDING = {};\nvar async = require(\"./async.js\");\nvar errors = require(\"./errors.js\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nPromise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {e: null};\nvar tryConvertToPromise = require(\"./thenables.js\")(Promise, INTERNAL);\nvar PromiseArray =\n    require(\"./promise_array.js\")(Promise, INTERNAL,\n                                    tryConvertToPromise, apiRejection);\nvar CapturedTrace = require(\"./captured_trace.js\")();\nvar isDebugging = require(\"./debuggability.js\")(Promise, CapturedTrace);\n /*jshint unused:false*/\nvar createContext =\n    require(\"./context.js\")(Promise, CapturedTrace, isDebugging);\nvar CatchFilter = require(\"./catch_filter.js\")(NEXT_FILTER);\nvar PromiseResolver = require(\"./promise_resolver.js\");\nvar nodebackForPromise = PromiseResolver._nodebackForPromise;\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction Promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"the promise constructor requires a resolver function\\u000a\\u000a    See http://goo.gl/EC22Yn\\u000a\");\n    }\n    if (this.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/KsIlge\\u000a\");\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._progressHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settledValue = undefined;\n    if (resolver !== INTERNAL) this._resolveFromResolver(resolver);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (typeof item === \"function\") {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(\n                    new TypeError(\"Catch filter must inherit from Error or be a simple predicate function\\u000a\\u000a    See http://goo.gl/o84o68\\u000a\"));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        var catchFilter = new CatchFilter(catchInstances, fn, this);\n        return this._then(undefined, catchFilter.doFilter, undefined,\n            catchFilter, undefined);\n    }\n    return this._then(undefined, fn, undefined, undefined, undefined);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflect, reflect, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject, didProgress) {\n    if (isDebugging() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, didProgress,\n        undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject, didProgress) {\n    var promise = this._then(didFulfill, didReject, didProgress,\n        undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (didFulfill, didReject) {\n    return this.all()._then(didFulfill, didReject, undefined, APPLY, undefined);\n};\n\nPromise.prototype.isCancellable = function () {\n    return !this.isResolved() &&\n        this._cancellable();\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = function(fn) {\n    var ret = new Promise(INTERNAL);\n    var result = tryCatch(fn)(nodebackForPromise(ret));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true, true);\n    }\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.defer = Promise.pending = function () {\n    var promise = new Promise(INTERNAL);\n    return new PromiseResolver(promise);\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        var val = ret;\n        ret = new Promise(INTERNAL);\n        ret._fulfillUnchecked(val);\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") throw new TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    var prev = async._schedule;\n    async._schedule = fn;\n    return prev;\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    didProgress,\n    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var ret = haveInternalData ? internalData : new Promise(INTERNAL);\n\n    if (!haveInternalData) {\n        ret._propagateFrom(this, 4 | 1);\n        ret._captureStackTrace();\n    }\n\n    var target = this._target();\n    if (target !== this) {\n        if (receiver === undefined) receiver = this._boundTo;\n        if (!haveInternalData) ret._setIsMigrated();\n    }\n\n    var callbackIndex = target._addCallbacks(didFulfill,\n                                             didReject,\n                                             didProgress,\n                                             ret,\n                                             receiver,\n                                             getDomain());\n\n    if (target._isResolved() && !target._isSettlePromisesQueued()) {\n        async.invoke(\n            target._settlePromiseAtPostResolution, target, callbackIndex);\n    }\n\n    return ret;\n};\n\nPromise.prototype._settlePromiseAtPostResolution = function (index) {\n    if (this._isRejectionUnhandled()) this._unsetRejectionIsUnhandled();\n    this._settlePromiseAt(index);\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 131071;\n};\n\nPromise.prototype._isFollowingOrFulfilledOrRejected = function () {\n    return (this._bitField & 939524096) > 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 536870912) === 536870912;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -131072) |\n        (len & 131071);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 536870912;\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 33554432;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 33554432) > 0;\n};\n\nPromise.prototype._cancellable = function () {\n    return (this._bitField & 67108864) > 0;\n};\n\nPromise.prototype._setCancellable = function () {\n    this._bitField = this._bitField | 67108864;\n};\n\nPromise.prototype._unsetCancellable = function () {\n    this._bitField = this._bitField & (~67108864);\n};\n\nPromise.prototype._setIsMigrated = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._unsetIsMigrated = function () {\n    this._bitField = this._bitField & (~4194304);\n};\n\nPromise.prototype._isMigrated = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0\n        ? this._receiver0\n        : this[\n            index * 5 - 5 + 4];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return index === 0\n        ? this._promise0\n        : this[index * 5 - 5 + 3];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return index === 0\n        ? this._fulfillmentHandler0\n        : this[index * 5 - 5 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return index === 0\n        ? this._rejectionHandler0\n        : this[index * 5 - 5 + 1];\n};\n\nPromise.prototype._boundValue = function() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n};\n\nPromise.prototype._migrateCallbacks = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var progress = follower._progressHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (promise instanceof Promise) promise._setIsMigrated();\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, progress, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    progress,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 131071 - 5) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        if (receiver !== undefined) this._receiver0 = receiver;\n        if (typeof fulfill === \"function\" && !this._isCarryingStackTrace()) {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : domain.bind(fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : domain.bind(reject);\n        }\n        if (typeof progress === \"function\") {\n            this._progressHandler0 =\n                domain === null ? progress : domain.bind(progress);\n        }\n    } else {\n        var base = index * 5 - 5;\n        this[base + 3] = promise;\n        this[base + 4] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : domain.bind(fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : domain.bind(reject);\n        }\n        if (typeof progress === \"function\") {\n            this[base + 2] =\n                domain === null ? progress : domain.bind(progress);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._setProxyHandlers = function (receiver, promiseSlotValue) {\n    var index = this._length();\n\n    if (index >= 131071 - 5) {\n        index = 0;\n        this._setLength(0);\n    }\n    if (index === 0) {\n        this._promise0 = promiseSlotValue;\n        this._receiver0 = receiver;\n    } else {\n        var base = index * 5 - 5;\n        this[base + 3] = promiseSlotValue;\n        this[base + 4] = receiver;\n    }\n    this._setLength(index + 1);\n};\n\nPromise.prototype._proxyPromiseArray = function (promiseArray, index) {\n    this._setProxyHandlers(promiseArray, index);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false, true);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    var propagationFlags = 1 | (shouldBind ? 4 : 0);\n    this._propagateFrom(maybePromise, propagationFlags);\n    var promise = maybePromise._target();\n    if (promise._isPending()) {\n        var len = this._length();\n        for (var i = 0; i < len; ++i) {\n            promise._migrateCallbacks(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (promise._isFulfilled()) {\n        this._fulfillUnchecked(promise._value());\n    } else {\n        this._rejectUnchecked(promise._reason(),\n            promise._getCarriedStackTrace());\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, shouldNotMarkOriginatingFromRejection) {\n    if (!shouldNotMarkOriginatingFromRejection) {\n        util.markAsOriginatingFromRejection(reason);\n    }\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason, hasStack ? undefined : trace);\n};\n\nPromise.prototype._resolveFromResolver = function (resolver) {\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = tryCatch(resolver)(function(value) {\n        if (promise === null) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }, function (reason) {\n        if (promise === null) return;\n        promise._rejectCallback(reason, synchronous);\n        promise = null;\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined && r === errorObj && promise !== null) {\n        promise._rejectCallback(r.e, true, true);\n        promise = null;\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    if (promise._isRejected()) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY && !this._isRejected()) {\n        x = tryCatch(handler).apply(this._boundValue(), value);\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    promise._popContext();\n\n    if (x === errorObj || x === promise || x === NEXT_FILTER) {\n        var err = x === promise ? makeSelfResolutionError() : x.e;\n        promise._rejectCallback(err, false, true);\n    } else {\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._cleanValues = function () {\n    if (this._cancellable()) {\n        this._cancellationParent = undefined;\n    }\n};\n\nPromise.prototype._propagateFrom = function (parent, flags) {\n    if ((flags & 1) > 0 && parent._cancellable()) {\n        this._setCancellable();\n        this._cancellationParent = parent;\n    }\n    if ((flags & 4) > 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n};\n\nPromise.prototype._fulfill = function (value) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    this._fulfillUnchecked(value);\n};\n\nPromise.prototype._reject = function (reason, carriedStackTrace) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    this._rejectUnchecked(reason, carriedStackTrace);\n};\n\nPromise.prototype._settlePromiseAt = function (index) {\n    var promise = this._promiseAt(index);\n    var isPromise = promise instanceof Promise;\n\n    if (isPromise && promise._isMigrated()) {\n        promise._unsetIsMigrated();\n        return async.invoke(this._settlePromiseAt, this, index);\n    }\n    var handler = this._isFulfilled()\n        ? this._fulfillmentHandlerAt(index)\n        : this._rejectionHandlerAt(index);\n\n    var carriedStackTrace =\n        this._isCarryingStackTrace() ? this._getCarriedStackTrace() : undefined;\n    var value = this._settledValue;\n    var receiver = this._receiverAt(index);\n    this._clearCallbackDataAtIndex(index);\n\n    if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof PromiseArray) {\n        if (!receiver._isResolved()) {\n            if (this._isFulfilled()) {\n                receiver._promiseFulfilled(value, promise);\n            }\n            else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (this._isFulfilled()) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value, carriedStackTrace);\n        }\n    }\n\n    if (index >= 4 && (index & 31) === 4)\n        async.invokeLater(this._setLength, this, 0);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    if (index === 0) {\n        if (!this._isCarryingStackTrace()) {\n            this._fulfillmentHandler0 = undefined;\n        }\n        this._rejectionHandler0 =\n        this._progressHandler0 =\n        this._receiver0 =\n        this._promise0 = undefined;\n    } else {\n        var base = index * 5 - 5;\n        this[base + 3] =\n        this[base + 4] =\n        this[base + 0] =\n        this[base + 1] =\n        this[base + 2] = undefined;\n    }\n};\n\nPromise.prototype._isSettlePromisesQueued = function () {\n    return (this._bitField &\n            -1073741824) === -1073741824;\n};\n\nPromise.prototype._setSettlePromisesQueued = function () {\n    this._bitField = this._bitField | -1073741824;\n};\n\nPromise.prototype._unsetSettlePromisesQueued = function () {\n    this._bitField = this._bitField & (~-1073741824);\n};\n\nPromise.prototype._queueSettlePromises = function() {\n    async.settlePromises(this);\n    this._setSettlePromisesQueued();\n};\n\nPromise.prototype._fulfillUnchecked = function (value) {\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._rejectUnchecked(err, undefined);\n    }\n    this._setFulfilled();\n    this._settledValue = value;\n    this._cleanValues();\n\n    if (this._length() > 0) {\n        this._queueSettlePromises();\n    }\n};\n\nPromise.prototype._rejectUncheckedCheckError = function (reason) {\n    var trace = util.ensureErrorObject(reason);\n    this._rejectUnchecked(reason, trace === reason ? undefined : trace);\n};\n\nPromise.prototype._rejectUnchecked = function (reason, trace) {\n    if (reason === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._rejectUnchecked(err);\n    }\n    this._setRejected();\n    this._settledValue = reason;\n    this._cleanValues();\n\n    if (this._isFinal()) {\n        async.throwLater(function(e) {\n            if (\"stack\" in e) {\n                async.invokeFirst(\n                    CapturedTrace.unhandledRejection, undefined, e);\n            }\n            throw e;\n        }, trace === undefined ? reason : trace);\n        return;\n    }\n\n    if (trace !== undefined && trace !== reason) {\n        this._setCarriedStackTrace(trace);\n    }\n\n    if (this._length() > 0) {\n        this._queueSettlePromises();\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    this._unsetSettlePromisesQueued();\n    var len = this._length();\n    for (var i = 0; i < len; i++) {\n        this._settlePromiseAt(i);\n    }\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\nrequire(\"./progress.js\")(Promise, PromiseArray);\nrequire(\"./method.js\")(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nrequire(\"./bind.js\")(Promise, INTERNAL, tryConvertToPromise);\nrequire(\"./finally.js\")(Promise, NEXT_FILTER, tryConvertToPromise);\nrequire(\"./direct_resolve.js\")(Promise);\nrequire(\"./synchronous_inspection.js\")(Promise);\nrequire(\"./join.js\")(Promise, PromiseArray, tryConvertToPromise, INTERNAL);\nPromise.Promise = Promise;\nrequire('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL);\nrequire('./cancel.js')(Promise);\nrequire('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext);\nrequire('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise);\nrequire('./nodeify.js')(Promise);\nrequire('./call_get.js')(Promise);\nrequire('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\nrequire('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nrequire('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL);\nrequire('./settle.js')(Promise, PromiseArray);\nrequire('./some.js')(Promise, PromiseArray, apiRejection);\nrequire('./promisify.js')(Promise, INTERNAL);\nrequire('./any.js')(Promise);\nrequire('./each.js')(Promise, INTERNAL);\nrequire('./timers.js')(Promise, INTERNAL);\nrequire('./filter.js')(Promise, INTERNAL);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._progressHandler0 = value;                                         \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n        p._settledValue = value;                                             \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    CapturedTrace.setBounds(async.firstLineError, util.lastLineError);       \n    return Promise;                                                          \n\n};\n"]}