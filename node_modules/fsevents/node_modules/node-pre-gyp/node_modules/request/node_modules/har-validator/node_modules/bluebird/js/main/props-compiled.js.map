{"version":3,"sources":["props.js"],"names":[],"mappings":"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","file":"props-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util.js\");\nvar isObject = util.isObject;\nvar es5 = require(\"./es5.js\");\n\nfunction PropertiesPromiseArray(obj) {\n    var keys = es5.keys(obj);\n    var len = keys.length;\n    var values = new Array(len * 2);\n    for (var i = 0; i < len; ++i) {\n        var key = keys[i];\n        values[i] = obj[key];\n        values[i + len] = key;\n    }\n    this.constructor$(values);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {\n    this._init$(undefined, -3) ;\n};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val = {};\n        var keyOffset = this.length();\n        for (var i = 0, len = this.length(); i < len; ++i) {\n            val[this._values[i + keyOffset]] = this._values[i];\n        }\n        this._resolve(val);\n    }\n};\n\nPropertiesPromiseArray.prototype._promiseProgressed = function (value, index) {\n    this._promise._progress({\n        key: this._values[index + this.length()],\n        value: value\n    });\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/OsFKC8\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 4);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n"]}