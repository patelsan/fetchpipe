{"version":3,"sources":["timers.js"],"names":[],"mappings":"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","file":"timers-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = require(\"./util.js\");\nvar TimeoutError = Promise.TimeoutError;\n\nvar afterTimeout = function (promise, message) {\n    if (!promise.isPending()) return;\n    \n    var err;\n    if(!util.isPrimitive(message) && (message instanceof Error)) {\n        err = message;\n    } else {\n        if (typeof message !== \"string\") {\n            message = \"operation timed out\";\n        }\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._cancel(err);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (value, ms) {\n    if (ms === undefined) {\n        ms = value;\n        value = undefined;\n        var ret = new Promise(INTERNAL);\n        setTimeout(function() { ret._fulfill(); }, ms);\n        return ret;\n    }\n    ms = +ms;\n    return Promise.resolve(value)._then(afterValue, null, null, ms, undefined);\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(this, ms);\n};\n\nfunction successClear(value) {\n    var handle = this;\n    if (handle instanceof Number) handle = +handle;\n    clearTimeout(handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    var handle = this;\n    if (handle instanceof Number) handle = +handle;\n    clearTimeout(handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret = this.then().cancellable();\n    ret._cancellationParent = this;\n    var handle = setTimeout(function timeoutTimeout() {\n        afterTimeout(ret, message);\n    }, ms);\n    return ret._then(successClear, failureClear, undefined, handle, undefined);\n};\n\n};\n"]}