{"version":3,"sources":["stringify.js"],"names":[],"mappings":"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","file":"stringify-compiled.js","sourcesContent":["// Load modules\n\nvar Utils = require('./utils');\n\n\n// Declare internals\n\nvar internals = {\n    delimiter: '&',\n    arrayPrefixGenerators: {\n        brackets: function (prefix, key) {\n\n            return prefix + '[]';\n        },\n        indices: function (prefix, key) {\n\n            return prefix + '[' + key + ']';\n        },\n        repeat: function (prefix, key) {\n\n            return prefix;\n        }\n    },\n    strictNullHandling: false,\n    skipNulls: false,\n    encode: true\n};\n\n\ninternals.stringify = function (obj, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter) {\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    }\n    else if (Utils.isBuffer(obj)) {\n        obj = obj.toString();\n    }\n    else if (obj instanceof Date) {\n        obj = obj.toISOString();\n    }\n    else if (obj === null) {\n        if (strictNullHandling) {\n            return encode ? Utils.encode(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' ||\n        typeof obj === 'number' ||\n        typeof obj === 'boolean') {\n\n        if (encode) {\n            return [Utils.encode(prefix) + '=' + Utils.encode(obj)];\n        }\n        return [prefix + '=' + obj];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys = Array.isArray(filter) ? filter : Object.keys(obj);\n    for (var i = 0, il = objKeys.length; i < il; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls &&\n            obj[key] === null) {\n\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(internals.stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encode, filter));\n        }\n        else {\n            values = values.concat(internals.stringify(obj[key], prefix + '[' + key + ']', generateArrayPrefix, strictNullHandling, skipNulls, encode, filter));\n        }\n    }\n\n    return values;\n};\n\n\nmodule.exports = function (obj, options) {\n\n    options = options || {};\n    var delimiter = typeof options.delimiter === 'undefined' ? internals.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : internals.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : internals.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : internals.encode;\n    var objKeys;\n    var filter;\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    }\n    else if (Array.isArray(options.filter)) {\n        objKeys = filter = options.filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' ||\n        obj === null) {\n\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in internals.arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    }\n    else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    }\n    else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = internals.arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    for (var i = 0, il = objKeys.length; i < il; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls &&\n            obj[key] === null) {\n\n            continue;\n        }\n\n        keys = keys.concat(internals.stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encode, filter));\n    }\n\n    return keys.join(delimiter);\n};\n"]}