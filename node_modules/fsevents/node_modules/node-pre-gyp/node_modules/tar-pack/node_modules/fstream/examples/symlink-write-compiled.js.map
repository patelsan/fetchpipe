{"version":3,"sources":["symlink-write.js"],"names":[],"mappings":";;AAAA,IAAI,OAAO,GAAG,OAAO,CAAC,eAAe,CAAC;IAClC,MAAM,GAAG,KAAK,CAAA;;AAElB,OAAO,CACJ,MAAM,CAAC,EAAE,IAAI,EAAE,iBAAiB;AACvB,UAAQ,EAAE,QAAQ;AAClB,gBAAc,EAAE,IAAI;AACpB,MAAI,EAAE,MAAM;CACb,CAAC,CACT,EAAE,CAAC,OAAO,EAAE,YAAY;AACvB,QAAM,GAAG,IAAI,CAAA;AACb,MAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;AACtB,MAAI,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAA;AACvC,MAAI,KAAK,GAAG,CAAC,CAAC,cAAc,EAAE,CAAA;AAC9B,SAAO,CAAC,GAAG,CAAC,CAAC,KAAK,GAAC,EAAE,GAAC,MAAM,CAAA,GAAG,wBAAwB,CAAC,CAAA;AACxD,MAAI,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAA;AAC1C,MAAI,QAAQ,GAAG,CAAC,KAAK,QAAQ,CAAA;AAC7B,SAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,GAAC,EAAE,GAAC,MAAM,CAAA,GAAG,4BAA4B,CAAC,CAAA;CAChE,CAAC,CACD,GAAG,EAAE,CAAA;;AAER,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY;AAC7B,SAAO,CAAC,GAAG,CAAC,CAAC,MAAM,GAAC,EAAE,GAAC,MAAM,CAAA,GAAE,uBAAuB,CAAC,CAAA;CACxD,CAAC,CAAA","file":"symlink-write-compiled.js","sourcesContent":["var fstream = require(\"../fstream.js\")\n  , closed = false\n\nfstream\n  .Writer({ path: \"path/to/symlink\"\n          , linkpath: \"./file\"\n          , isSymbolicLink: true\n          , mode: \"0755\" // octal strings supported\n          })\n  .on(\"close\", function () {\n    closed = true\n    var fs = require(\"fs\")\n    var s = fs.lstatSync(\"path/to/symlink\")\n    var isSym = s.isSymbolicLink()\n    console.log((isSym?\"\":\"not \") +\"ok 1 should be symlink\")\n    var t = fs.readlinkSync(\"path/to/symlink\")\n    var isTarget = t === \"./file\"\n    console.log((isTarget?\"\":\"not \") +\"ok 2 should link to ./file\")\n  })\n  .end()\n\nprocess.on(\"exit\", function () {\n  console.log((closed?\"\":\"not \")+\"ok 3 should be closed\")\n})\n"]}