{"version":3,"sources":["once.js"],"names":[],"mappings":";;AAAA,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,CAAA;AAC9B,IAAI,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;;AAEhC,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE;AACxB,MAAI,CAAC,GAAG,CAAC,CAAA;AACT,MAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE;AAC1B,KAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;AACb,KAAC,EAAG,CAAA;AACJ,WAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAA;GACpB,CAAC,CAAA;AACF,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;AAC5B,KAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAA;AAC1B,QAAI,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;AACtB,KAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,CAAA;AAClC,KAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;GACb;AACD,GAAC,CAAC,GAAG,EAAE,CAAA;CACR,CAAC,CAAA","file":"once-compiled.js","sourcesContent":["var test = require('tap').test\nvar once = require('../once.js')\n\ntest('once', function (t) {\n  var f = 0\n  var foo = once(function (g) {\n    t.equal(f, 0)\n    f ++\n    return f + g + this\n  })\n  for (var i = 0; i < 1E3; i++) {\n    t.same(f, i === 0 ? 0 : 1)\n    var g = foo.call(1, 1)\n    t.same(g, i === 0 ? 3 : undefined)\n    t.same(f, 1)\n  }\n  t.end()\n})\n"]}