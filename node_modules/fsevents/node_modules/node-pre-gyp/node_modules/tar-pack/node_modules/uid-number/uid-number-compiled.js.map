{"version":3,"sources":["uid-number.js"],"names":[],"mappings":"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","file":"uid-number-compiled.js","sourcesContent":["module.exports = uidNumber\n\n// This module calls into get-uid-gid.js, which sets the\n// uid and gid to the supplied argument, in order to find out their\n// numeric value.  This can't be done in the main node process,\n// because otherwise node would be running as that user from this\n// point on.\n\nvar child_process = require(\"child_process\")\n  , path = require(\"path\")\n  , uidSupport = process.getuid && process.setuid\n  , uidCache = {}\n  , gidCache = {}\n\nfunction uidNumber (uid, gid, cb) {\n  if (!uidSupport) return cb()\n  if (typeof cb !== \"function\") cb = gid, gid = null\n  if (typeof cb !== \"function\") cb = uid, uid = null\n  if (gid == null) gid = process.getgid()\n  if (uid == null) uid = process.getuid()\n  if (!isNaN(gid)) gid = uidCache[gid] = +gid\n  if (!isNaN(uid)) uid = uidCache[uid] = +uid\n\n  if (uidCache.hasOwnProperty(uid)) uid = uidCache[uid]\n  if (gidCache.hasOwnProperty(gid)) gid = gidCache[gid]\n\n  if (typeof gid === \"number\" && typeof uid === \"number\") {\n    return process.nextTick(cb.bind(null, null, uid, gid))\n  }\n\n  var getter = require.resolve(\"./get-uid-gid.js\")\n\n  child_process.execFile( process.execPath\n                        , [getter, uid, gid]\n                        , function (code, out, err) {\n    if (er) return cb(new Error(\"could not get uid/gid\\n\" + err))\n    try {\n      out = JSON.parse(out+\"\")\n    } catch (ex) {\n      return cb(ex)\n    }\n\n    if (out.error) {\n      var er = new Error(out.error)\n      er.errno = out.errno\n      return cb(er)\n    }\n\n    if (isNaN(out.uid) || isNaN(out.gid)) return cb(new Error(\n      \"Could not get uid/gid: \"+JSON.stringify(out)))\n\n    cb(null, uidCache[uid] = +out.uid, uidCache[gid] = +out.gid)\n  })\n}\n"]}