{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var tar = require('../')\r\nvar path = require('path')\r\nvar rfile = require('rfile')\r\nvar rimraf = require('rimraf').sync\r\nvar mkdir = require('mkdirp').sync\r\n\r\nvar read = require('fs').createReadStream\r\nvar write = require('fs').createWriteStream\r\nvar assert = require('assert')\r\n\r\nbeforeEach(function () {\r\n  rimraf(__dirname + '/output')\r\n})\r\nafterEach(function () {\r\n  rimraf(__dirname + '/output')\r\n})\r\ndescribe('tarball.pipe(unpack(directory, callback))', function () {\r\n  it('unpacks the tarball into the directory', function (done) {\r\n    read(__dirname + '/fixtures/packed.tar').pipe(tar.unpack(__dirname + '/output/unpacked', function (err) {\r\n      if (err) return done(err)\r\n      assert.equal(rfile('./output/unpacked/bar.txt'), rfile('./fixtures/to-pack/bar.txt'))\r\n      assert.equal(rfile('./output/unpacked/foo.txt'), rfile('./fixtures/to-pack/foo.txt'))\r\n      done()\r\n    }))\r\n  })\r\n})\r\ndescribe('gziptarball.pipe(unpack(directory, callback))', function () {\r\n  it('unpacks the tarball into the directory', function (done) {\r\n    read(__dirname + '/fixtures/packed.tar.gz').pipe(tar.unpack(__dirname + '/output/unpacked', function (err) {\r\n      if (err) return done(err)\r\n      assert.equal(rfile('./output/unpacked/bar.txt'), rfile('./fixtures/to-pack/bar.txt'))\r\n      assert.equal(rfile('./output/unpacked/foo.txt'), rfile('./fixtures/to-pack/foo.txt'))\r\n      done()\r\n    }))\r\n  })\r\n})\r\ndescribe('file.pipe(unpack(directory, callback))', function () {\r\n  it('copies the file into the directory', function (done) {\r\n    read(__dirname + '/fixtures/packed-file.txt').pipe(tar.unpack(__dirname + '/output/unpacked', function (err) {\r\n      if (err) return done(err)\r\n      assert.equal(rfile('./output/unpacked/index.js'), rfile('./fixtures/packed-file.txt'))\r\n      done()\r\n    }))\r\n  })\r\n})\r\ndescribe('pack(directory).pipe(tarball)', function () {\r\n  it('packs the directory into the output', function (done) {\r\n    var called = false\r\n    mkdir(__dirname + '/output/')\r\n    tar.pack(__dirname + '/fixtures/to-pack').pipe(write(__dirname + '/output/packed.tar.gz'))\r\n      .on('error', function (err) {\r\n        if (called) return\r\n        called = true\r\n        done(err)\r\n      })\r\n      .on('close', function () {\r\n        if (called) return\r\n        called = true\r\n        read(__dirname + '/output/packed.tar.gz').pipe(tar.unpack(__dirname + '/output/unpacked', function (err) {\r\n          if (err) return done(err)\r\n          assert.equal(rfile('./output/unpacked/bar.txt'), rfile('./fixtures/to-pack/bar.txt'))\r\n          assert.equal(rfile('./output/unpacked/foo.txt'), rfile('./fixtures/to-pack/foo.txt'))\r\n          done()\r\n        }))\r\n      })\r\n  })\r\n})"]}