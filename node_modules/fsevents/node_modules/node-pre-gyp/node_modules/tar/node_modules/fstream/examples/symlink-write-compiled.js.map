{"version":3,"sources":["symlink-write.js"],"names":[],"mappings":";;AAAA,IAAI,OAAO,GAAG,OAAO,CAAC,eAAe,CAAC,CAAA;AACtC,IAAI,OAAO,GAAG,KAAK,CAAA;AACnB,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;;AAExB,OAAO,CACJ,MAAM,CAAC;AACN,MAAI,EAAE,iBAAiB;AACvB,UAAQ,EAAE,QAAQ;AAClB,gBAAc,EAAE,IAAI;AACpB,MAAI,EAAE,MAAM;CACb,CAAC,CACD,EAAE,CAAC,OAAO,EAAE,YAAY;AACvB,SAAO,GAAG,IAAI,CAAA;AACd,MAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;AACtB,MAAI,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAA;AACvC,MAAI,KAAK,GAAG,CAAC,CAAC,cAAc,EAAE,CAAA;AAC9B,SAAO,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE,GAAG,MAAM,CAAA,GAAI,wBAAwB,CAAC,CAAA;AAC7D,MAAI,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAA;AAC1C,MAAI,QAAQ,GAAG,CAAC,KAAK,QAAQ,CAAA;AAC7B,SAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,GAAG,EAAE,GAAG,MAAM,CAAA,GAAI,4BAA4B,CAAC,CAAA;CACrE,CAAC,CACD,GAAG,EAAE,CAAA;;AAER,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY;AAC7B,SAAO,CAAC,GAAG,CAAC,CAAC,OAAO,GAAG,EAAE,GAAG,MAAM,CAAA,GAAI,uBAAuB,CAAC,CAAA;AAC9D,SAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;CACpB,CAAC,CAAA","file":"symlink-write-compiled.js","sourcesContent":["var fstream = require('../fstream.js')\nvar notOpen = false\nprocess.chdir(__dirname)\n\nfstream\n  .Writer({\n    path: 'path/to/symlink',\n    linkpath: './file',\n    isSymbolicLink: true,\n    mode: '0755' // octal strings supported\n  })\n  .on('close', function () {\n    notOpen = true\n    var fs = require('fs')\n    var s = fs.lstatSync('path/to/symlink')\n    var isSym = s.isSymbolicLink()\n    console.log((isSym ? '' : 'not ') + 'ok 1 should be symlink')\n    var t = fs.readlinkSync('path/to/symlink')\n    var isTarget = t === './file'\n    console.log((isTarget ? '' : 'not ') + 'ok 2 should link to ./file')\n  })\n  .end()\n\nprocess.on('exit', function () {\n  console.log((notOpen ? '' : 'not ') + 'ok 3 should be closed')\n  console.log('1..3')\n})\n"]}