{"version":3,"sources":["abstract.js"],"names":[],"mappings":"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","file":"abstract-compiled.js","sourcesContent":["// the parent class for all fstreams.\n\nmodule.exports = Abstract\n\nvar Stream = require('stream').Stream\nvar inherits = require('inherits')\n\nfunction Abstract () {\n  Stream.call(this)\n}\n\ninherits(Abstract, Stream)\n\nAbstract.prototype.on = function (ev, fn) {\n  if (ev === 'ready' && this.ready) {\n    process.nextTick(fn.bind(this))\n  } else {\n    Stream.prototype.on.call(this, ev, fn)\n  }\n  return this\n}\n\nAbstract.prototype.abort = function () {\n  this._aborted = true\n  this.emit('abort')\n}\n\nAbstract.prototype.destroy = function () {}\n\nAbstract.prototype.warn = function (msg, code) {\n  var self = this\n  var er = decorate(msg, code, self)\n  if (!self.listeners('warn')) {\n    console.error('%s %s\\n' +\n    'path = %s\\n' +\n    'syscall = %s\\n' +\n    'fstream_type = %s\\n' +\n    'fstream_path = %s\\n' +\n    'fstream_unc_path = %s\\n' +\n    'fstream_class = %s\\n' +\n    'fstream_stack =\\n%s\\n',\n      code || 'UNKNOWN',\n      er.stack,\n      er.path,\n      er.syscall,\n      er.fstream_type,\n      er.fstream_path,\n      er.fstream_unc_path,\n      er.fstream_class,\n      er.fstream_stack.join('\\n'))\n  } else {\n    self.emit('warn', er)\n  }\n}\n\nAbstract.prototype.info = function (msg, code) {\n  this.emit('info', msg, code)\n}\n\nAbstract.prototype.error = function (msg, code, th) {\n  var er = decorate(msg, code, this)\n  if (th) throw er\n  else this.emit('error', er)\n}\n\nfunction decorate (er, code, self) {\n  if (!(er instanceof Error)) er = new Error(er)\n  er.code = er.code || code\n  er.path = er.path || self.path\n  er.fstream_type = er.fstream_type || self.type\n  er.fstream_path = er.fstream_path || self.path\n  if (self._path !== self.path) {\n    er.fstream_unc_path = er.fstream_unc_path || self._path\n  }\n  if (self.linkpath) {\n    er.fstream_linkpath = er.fstream_linkpath || self.linkpath\n  }\n  er.fstream_class = er.fstream_class || self.constructor.name\n  er.fstream_stack = er.fstream_stack ||\n    new Error().stack.split(/\\n/).slice(3).map(function (s) {\n      return s.replace(/^ {4}at /, '')\n    })\n\n  return er\n}\n"]}