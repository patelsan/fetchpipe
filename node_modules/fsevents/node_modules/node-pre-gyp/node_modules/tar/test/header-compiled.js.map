{"version":3,"sources":["header.js"],"names":[],"mappings":"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","file":"header-compiled.js","sourcesContent":["var tap = require(\"tap\")\nvar TarHeader = require(\"../lib/header.js\")\nvar tar = require(\"../tar.js\")\nvar fs = require(\"fs\")\n\n\nvar headers =\n  { \"a.txt file header\":\n    [ \"612e747874000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030303036343420003035373736312000303030303234200030303030303030303430312031313635313336303333332030313234353100203000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000757374617200303069736161637300000000000000000000000000000000000000000000000000007374616666000000000000000000000000000000000000000000000000000000303030303030200030303030303020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\n    , { cksumValid: true\n      , path: 'a.txt'\n      , mode: 420\n      , uid: 24561\n      , gid: 20\n      , size: 257\n      , mtime: 1319493851\n      , cksum: 5417\n      , type: '0'\n      , linkpath: ''\n      , ustar: 'ustar\\0'\n      , ustarver: '00'\n      , uname: 'isaacs'\n      , gname: 'staff'\n      , devmaj: 0\n      , devmin: 0\n      , fill: '' }\n    ]\n\n  , \"omega pax\": // the extended header from omega tar.\n    [ \"5061784865616465722fcea92e74787400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030303036343420003035373736312000303030303234200030303030303030303137302031313534333731303631312030313530353100207800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000757374617200303069736161637300000000000000000000000000000000000000000000000000007374616666000000000000000000000000000000000000000000000000000000303030303030200030303030303020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\n    , { cksumValid: true\n      , path: 'PaxHeader/Ω.txt'\n      , mode: 420\n      , uid: 24561\n      , gid: 20\n      , size: 120\n      , mtime: 1301254537\n      , cksum: 6697\n      , type: 'x'\n      , linkpath: ''\n      , ustar: 'ustar\\0'\n      , ustarver: '00'\n      , uname: 'isaacs'\n      , gname: 'staff'\n      , devmaj: 0\n      , devmin: 0\n      , fill: '' } ]\n\n  , \"omega file header\":\n    [ \"cea92e7478740000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030303036343420003035373736312000303030303234200030303030303030303030322031313534333731303631312030313330373200203000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000757374617200303069736161637300000000000000000000000000000000000000000000000000007374616666000000000000000000000000000000000000000000000000000000303030303030200030303030303020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\n    , { cksumValid: true\n      , path: 'Ω.txt'\n      , mode: 420\n      , uid: 24561\n      , gid: 20\n      , size: 2\n      , mtime: 1301254537\n      , cksum: 5690\n      , type: '0'\n      , linkpath: ''\n      , ustar: 'ustar\\0'\n      , ustarver: '00'\n      , uname: 'isaacs'\n      , gname: 'staff'\n      , devmaj: 0\n      , devmin: 0\n      , fill: '' } ]\n\n  , \"foo.js file header\":\n    [ \"666f6f2e6a730000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030303036343420003035373736312000303030303234200030303030303030303030342031313534333637303734312030313236313700203000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000757374617200303069736161637300000000000000000000000000000000000000000000000000007374616666000000000000000000000000000000000000000000000000000000303030303030200030303030303020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\n    , { cksumValid: true\n      , path: 'foo.js'\n      , mode: 420\n      , uid: 24561\n      , gid: 20\n      , size: 4\n      , mtime: 1301246433\n      , cksum: 5519\n      , type: '0'\n      , linkpath: ''\n      , ustar: 'ustar\\0'\n      , ustarver: '00'\n      , uname: 'isaacs'\n      , gname: 'staff'\n      , devmaj: 0\n      , devmin: 0\n      , fill: '' }\n    ]\n\n  , \"b.txt file header\":\n    [ \"622e747874000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030303036343420003035373736312000303030303234200030303030303030313030302031313635313336303637372030313234363100203000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000757374617200303069736161637300000000000000000000000000000000000000000000000000007374616666000000000000000000000000000000000000000000000000000000303030303030200030303030303020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\n    , { cksumValid: true\n      , path: 'b.txt'\n      , mode: 420\n      , uid: 24561\n      , gid: 20\n      , size: 512\n      , mtime: 1319494079\n      , cksum: 5425\n      , type: '0'\n      , linkpath: ''\n      , ustar: 'ustar\\0'\n      , ustarver: '00'\n      , uname: 'isaacs'\n      , gname: 'staff'\n      , devmaj: 0\n      , devmin: 0\n      , fill: '' }\n    ]\n\n  , \"deep nested file\":\n    [ \"636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363633030303634342000303537373631200030303030323420003030303030303030313434203131363532313531353333203034333331340020300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000075737461720030306973616163730000000000000000000000000000000000000000000000000000737461666600000000000000000000000000000000000000000000000000000030303030303020003030303030302000722f652f612f6c2f6c2f792f2d2f642f652f652f702f2d2f662f6f2f6c2f642f652f722f2d2f702f612f742f680000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\n    , { cksumValid: true,\n        path: 'r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/r/-/p/a/t/h/cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc'\n      , mode: 420\n      , uid: 24561\n      , gid: 20\n      , size: 100\n      , mtime: 1319687003\n      , cksum: 18124\n      , type: '0'\n      , linkpath: ''\n      , ustar: 'ustar\\0'\n      , ustarver: '00'\n      , uname: 'isaacs'\n      , gname: 'staff'\n      , devmaj: 0\n      , devmin: 0\n      , fill: '' }\n    ]\n  }\n\ntap.test(\"parsing\", function (t) {\n  Object.keys(headers).forEach(function (name) {\n    var h = headers[name]\n      , header = new Buffer(h[0], \"hex\")\n      , expect = h[1]\n      , parsed = new TarHeader(header)\n\n    // console.error(parsed)\n    t.has(parsed, expect, \"parse \" + name)\n  })\n  t.end()\n})\n\ntap.test(\"encoding\", function (t) {\n  Object.keys(headers).forEach(function (name) {\n    var h = headers[name]\n      , expect = new Buffer(h[0], \"hex\")\n      , encoded = TarHeader.encode(h[1])\n\n    // might have slightly different bytes, since the standard\n    // isn't very strict, but should have the same semantics\n    // checkSum will be different, but cksumValid will be true\n\n    var th = new TarHeader(encoded)\n    delete h[1].block\n    delete h[1].needExtended\n    delete h[1].cksum\n    t.has(th, h[1], \"fields \"+name)\n  })\n  t.end()\n})\n\n// test these manually.  they're a bit rare to find in the wild\ntap.test(\"parseNumeric tests\", function (t) {\n  var parseNumeric = TarHeader.parseNumeric\n    , numbers =\n      { \"303737373737373700\": 2097151\n      , \"30373737373737373737373700\": 8589934591\n      , \"303030303036343400\": 420\n      , \"800000ffffffffffff\": 281474976710655\n      , \"ffffff000000000001\": -281474976710654\n      , \"ffffff000000000000\": -281474976710655\n      , \"800000000000200000\": 2097152\n      , \"8000000000001544c5\": 1393861\n      , \"ffffffffffff1544c5\": -15383354 }\n  Object.keys(numbers).forEach(function (n) {\n    var b = new Buffer(n, \"hex\")\n    t.equal(parseNumeric(b), numbers[n], n + \" === \" + numbers[n])\n  })\n  t.end()\n})\n"]}