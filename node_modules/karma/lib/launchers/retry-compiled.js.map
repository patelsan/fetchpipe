{"version":3,"sources":["retry.js"],"names":[],"mappings":";;AAAA,IAAI,GAAG,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAA;;AAEjD,IAAI,aAAa,GAAG,SAAhB,aAAa,CAAa,UAAU,EAAE;AACxC,MAAI,IAAI,GAAG,IAAI,CAAA;;AAEf,MAAI,CAAC,WAAW,GAAG,UAAU,CAAA;;AAE7B,MAAI,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY;AAC1B,QAAI,CAAC,IAAI,CAAC,KAAK,EAAE;AACf,aAAM;KACP;;AAED,QAAI,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;AACxB,UAAI,OAAO,GAAG,UAAU,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAA;AAC/C,SAAG,CAAC,IAAI,CAAC,mCAAmC,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,UAAU,CAAC,CAAA;AAC7E,UAAI,CAAC,OAAO,EAAE,CAAA;AACd,UAAI,CAAC,WAAW,EAAE,CAAA;KACnB,MAAM,IAAI,IAAI,CAAC,WAAW,KAAK,CAAC,EAAE;AACjC,SAAG,CAAC,KAAK,CAAC,qCAAqC,EAAE,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;KACpF,MAAM;AACL,SAAG,CAAC,KAAK,CAAC,iCAAiC,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;KACpE;GACF,CAAC,CAAA;CACH,CAAA;;AAED,aAAa,CAAC,gBAAgB,GAAG,YAAY;AAC3C,SAAO,UAAU,QAAQ,EAAE;AACzB,iBAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAA;GAChC,CAAA;CACF,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA","file":"retry-compiled.js","sourcesContent":["var log = require('../logger').create('launcher')\n\nvar RetryLauncher = function (retryLimit) {\n  var self = this\n\n  this._retryLimit = retryLimit\n\n  this.on('done', function () {\n    if (!self.error) {\n      return\n    }\n\n    if (self._retryLimit > 0) {\n      var attempt = retryLimit - self._retryLimit + 1\n      log.info('Trying to start %s again (%d/%d).', self.name, attempt, retryLimit)\n      self.restart()\n      self._retryLimit--\n    } else if (self._retryLimit === 0) {\n      log.error('%s failed %d times (%s). Giving up.', self.name, retryLimit, self.error)\n    } else {\n      log.debug('%s failed (%s). Not restarting.', self.name, self.error)\n    }\n  })\n}\n\nRetryLauncher.decoratorFactory = function () {\n  return function (launcher) {\n    RetryLauncher.call(launcher, 2)\n  }\n}\n\nmodule.exports = RetryLauncher\n"]}