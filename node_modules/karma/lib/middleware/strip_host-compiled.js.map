{"version":3,"sources":["strip_host.js"],"names":[],"mappings":";;;;;;;AAKA,IAAI,yBAAyB,GAAG,SAA5B,yBAAyB,GAAe;AAC1C,SAAO,UAAU,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE;AACxC,aAAS,gBAAgB,CAAE,GAAG,EAAE;AAC9B,aAAO,GAAG,CAAC,OAAO,CAAC,kCAAkC,EAAE,GAAG,CAAC,CAAA;KAC5D;;AAED,WAAO,CAAC,aAAa,GAAG,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,GAAG,CAAA;AACpE,QAAI,EAAE,CAAA;GACP,CAAA;CACF,CAAA;;;AAGD,OAAO,CAAC,MAAM,GAAG,yBAAyB,CAAA","file":"strip_host-compiled.js","sourcesContent":["/**\n * Strip host middleware is responsible for stripping hostname from request path\n * This to handle requests that uses (normally over proxies) an absolutURI as request path\n */\n\nvar createStripHostMiddleware = function () {\n  return function (request, response, next) {\n    function stripHostFromUrl (url) {\n      return url.replace(/^http[s]?:\\/\\/([a-z\\-\\.\\:\\d]+)\\//, '/')\n    }\n\n    request.normalizedUrl = stripHostFromUrl(request.url) || request.url\n    next()\n  }\n}\n\n// PUBLIC API\nexports.create = createStripHostMiddleware\n"]}