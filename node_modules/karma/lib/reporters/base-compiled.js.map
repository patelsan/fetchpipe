{"version":3,"sources":["base.js"],"names":[],"mappings":";;AAAA,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;;AAEjC,IAAI,YAAY,GAAG,SAAf,YAAY,CAAa,WAAW,EAAE,UAAU,EAAE,OAAO,EAAE;AAC7D,MAAI,CAAC,QAAQ,GAAG,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAA;;AAEtE,MAAI,CAAC,UAAU,GAAG,YAAY;AAC5B,QAAI,CAAC,SAAS,GAAG,EAAE,CAAA;GACpB,CAAA;;AAED,MAAI,CAAC,cAAc,GAAG,UAAU,OAAO,EAAE;AACvC,QAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;GAC7B,CAAA;;AAED,MAAI,CAAC,aAAa,GAAG,UAAU,OAAO,EAAE;AACtC,QAAI,OAAO,GAAG,OAAO,CAAC,UAAU,CAAA;AAChC,QAAI,aAAa,GAAG,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAA;AACpD,QAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,uBAAuB,EAAE,OAAO,EAAE,aAAa,EAAE,OAAO,CAAC,KAAK,CAAC,CAAA;;AAErF,QAAI,OAAO,CAAC,MAAM,EAAE;AAClB,SAAG,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,MAAM,CAAC,CAAA;KAClD;;AAED,QAAI,OAAO,CAAC,OAAO,EAAE;AACnB,SAAG,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,OAAO,CAAC,OAAO,CAAC,CAAA;KACrD;;AAED,QAAI,OAAO,CAAC,OAAO,EAAE;AACnB,UAAI,OAAO,CAAC,YAAY,EAAE;AACxB,WAAG,IAAI,IAAI,CAAC,qBAAqB,CAAA;OAClC,MAAM,IAAI,OAAO,CAAC,KAAK,EAAE;AACxB,WAAG,IAAI,IAAI,CAAC,cAAc,CAAA;OAC3B,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AAC1B,WAAG,IAAI,IAAI,CAAC,gBAAgB,CAAA;OAC7B;;AAED,SAAG,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,kBAAkB,CAAC,OAAO,CAAC,SAAS,CAAC,EAC3E,MAAM,CAAC,kBAAkB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAA;KAC9C;;AAED,WAAO,GAAG,CAAA;GACX,CAAA;;AAED,MAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;;AAElD,MAAI,CAAC,KAAK,GAAG,YAAY;AACvB,QAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAA;;AAExE,QAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,OAAO,EAAE;AACvC,aAAO,CAAC,GAAG,CAAC,CAAA;KACb,CAAC,CAAA;GACH,CAAA;;AAED,MAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAA;;AAEhC,MAAI,CAAC,cAAc,GAAG,UAAU,OAAO,EAAE,KAAK,EAAE;AAC9C,QAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAA;GACjF,CAAA;;AAED,MAAI,CAAC,YAAY,GAAG,UAAU,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE;AAChD,QAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;;AAEzB,SAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAA;KAC3D;;AAED,QAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;AACjD,UAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,WAAW,EAAE,EAAE,GAAG,CAAC,CAAC,CAAA;KACnF,MAAM;AACL,UAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,EAAE,GAAG,CAAC,CAAC,CAAA;KAC3F;GACF,CAAA;;AAED,MAAI,CAAC,cAAc,GAAG,UAAU,OAAO,EAAE,MAAM,EAAE;AAC/C,QAAI,MAAM,CAAC,OAAO,EAAE;AAClB,UAAI,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,CAAA;KAClC,MAAM,IAAI,MAAM,CAAC,OAAO,EAAE;AACzB,UAAI,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,CAAA;KAClC,MAAM;AACL,UAAI,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,CAAA;KAClC;;AAED,QAAI,UAAU,IAAI,MAAM,CAAC,IAAI,GAAG,UAAU,EAAE;AAC1C,UAAI,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC,WAAW,CAAA;AAChE,UAAI,IAAI,GAAG,MAAM,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;;AAEjD,UAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAA;KAC1E;GACF,CAAA;;AAED,MAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,YAAY,EAAE,CAAA;;AAEpD,MAAI,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE,MAAM,EAAE;AAC5C,QAAI,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC,WAAW,CAAA;AAChE,QAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAA;;AAE3D,UAAM,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AAChC,SAAG,IAAI,WAAW,CAAC,GAAG,EAAE,IAAI,CAAC,CAAA;KAC9B,CAAC,CAAA;;AAEF,QAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAA;GACzB,CAAA;;AAED,MAAI,CAAC,aAAa,GAAG,UAAU,QAAQ,EAAE,OAAO,EAAE;AAChD,QAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;AAClE,UAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACnB,YAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,OAAO,CAAC,CAAA;OAChD,MAAM;AACL,YAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,OAAO,CAAC,CAAA;OAC/D;KACF;GACF,CAAA;;AAED,MAAI,CAAC,UAAU,GAAG,KAAK,CAAA;;AAEvB,MAAI,CAAC,kBAAkB,GAAG,UAAU,CAAA;AACpC,MAAI,CAAC,iBAAiB,GAAG,aAAa,CAAA;;AAEtC,MAAI,CAAC,YAAY,GAAG,cAAc,GAAG,IAAI,CAAA;AACzC,MAAI,CAAC,SAAS,GAAG,kBAAkB,CAAA;AACnC,MAAI,CAAC,KAAK,GAAG,YAAY,CAAA;;AAEzB,MAAI,CAAC,cAAc,GAAG,QAAQ,CAAA;AAC9B,MAAI,CAAC,gBAAgB,GAAG,UAAU,CAAA;AAClC,MAAI,CAAC,qBAAqB,GAAG,eAAe,CAAA;;AAE5C,MAAI,CAAC,QAAQ,GAAG,cAAc,CAAA;;AAE9B,MAAI,CAAC,aAAa,GAAG,qBAAqB,CAAA;AAC1C,MAAI,CAAC,YAAY,GAAG,gCAAgC,CAAA;CACrD,CAAA;;AAED,YAAY,CAAC,gBAAgB,GAAG,UAAU,WAAW,EAAE,UAAU,EAAE;AACjE,SAAO,UAAU,IAAI,EAAE;AACrB,gBAAY,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,EAAE,UAAU,CAAC,CAAA;GACjD,CAAA;CACF,CAAA;;AAED,YAAY,CAAC,gBAAgB,CAAC,OAAO,GAAG,CAAC,aAAa,EAAE,yBAAyB,CAAC,CAAA;;;AAGlF,MAAM,CAAC,OAAO,GAAG,YAAY,CAAA","file":"base-compiled.js","sourcesContent":["var util = require('util')\n\nvar helper = require('../helper')\n\nvar BaseReporter = function (formatError, reportSlow, adapter) {\n  this.adapters = [adapter || process.stdout.write.bind(process.stdout)]\n\n  this.onRunStart = function () {\n    this._browsers = []\n  }\n\n  this.onBrowserStart = function (browser) {\n    this._browsers.push(browser)\n  }\n\n  this.renderBrowser = function (browser) {\n    var results = browser.lastResult\n    var totalExecuted = results.success + results.failed\n    var msg = util.format('%s: Executed %d of %d', browser, totalExecuted, results.total)\n\n    if (results.failed) {\n      msg += util.format(this.X_FAILED, results.failed)\n    }\n\n    if (results.skipped) {\n      msg += util.format(' (skipped %d)', results.skipped)\n    }\n\n    if (browser.isReady) {\n      if (results.disconnected) {\n        msg += this.FINISHED_DISCONNECTED\n      } else if (results.error) {\n        msg += this.FINISHED_ERROR\n      } else if (!results.failed) {\n        msg += this.FINISHED_SUCCESS\n      }\n\n      msg += util.format(' (%s / %s)', helper.formatTimeInterval(results.totalTime),\n        helper.formatTimeInterval(results.netTime))\n    }\n\n    return msg\n  }\n\n  this.renderBrowser = this.renderBrowser.bind(this)\n\n  this.write = function () {\n    var msg = util.format.apply(null, Array.prototype.slice.call(arguments))\n\n    this.adapters.forEach(function (adapter) {\n      adapter(msg)\n    })\n  }\n\n  this.writeCommonMsg = this.write\n\n  this.onBrowserError = function (browser, error) {\n    this.writeCommonMsg(util.format(this.ERROR, browser) + formatError(error, '  '))\n  }\n\n  this.onBrowserLog = function (browser, log, type) {\n    if (!helper.isString(log)) {\n      // TODO(vojta): change util to new syntax (config object)\n      log = util.inspect(log, false, undefined, this.USE_COLORS)\n    }\n\n    if (this._browsers && this._browsers.length === 1) {\n      this.writeCommonMsg(util.format(this.LOG_SINGLE_BROWSER, type.toUpperCase(), log))\n    } else {\n      this.writeCommonMsg(util.format(this.LOG_MULTI_BROWSER, browser, type.toUpperCase(), log))\n    }\n  }\n\n  this.onSpecComplete = function (browser, result) {\n    if (result.skipped) {\n      this.specSkipped(browser, result)\n    } else if (result.success) {\n      this.specSuccess(browser, result)\n    } else {\n      this.specFailure(browser, result)\n    }\n\n    if (reportSlow && result.time > reportSlow) {\n      var specName = result.suite.join(' ') + ' ' + result.description\n      var time = helper.formatTimeInterval(result.time)\n\n      this.writeCommonMsg(util.format(this.SPEC_SLOW, browser, time, specName))\n    }\n  }\n\n  this.specSuccess = this.specSkipped = function () {}\n\n  this.specFailure = function (browser, result) {\n    var specName = result.suite.join(' ') + ' ' + result.description\n    var msg = util.format(this.SPEC_FAILURE, browser, specName)\n\n    result.log.forEach(function (log) {\n      msg += formatError(log, '\\t')\n    })\n\n    this.writeCommonMsg(msg)\n  }\n\n  this.onRunComplete = function (browsers, results) {\n    if (browsers.length > 1 && !results.error && !results.disconnected) {\n      if (!results.failed) {\n        this.write(this.TOTAL_SUCCESS, results.success)\n      } else {\n        this.write(this.TOTAL_FAILED, results.failed, results.success)\n      }\n    }\n  }\n\n  this.USE_COLORS = false\n\n  this.LOG_SINGLE_BROWSER = '%s: %s\\n'\n  this.LOG_MULTI_BROWSER = '%s %s: %s\\n'\n\n  this.SPEC_FAILURE = '%s %s FAILED' + '\\n'\n  this.SPEC_SLOW = '%s SLOW %s: %s\\n'\n  this.ERROR = '%s ERROR\\n'\n\n  this.FINISHED_ERROR = ' ERROR'\n  this.FINISHED_SUCCESS = ' SUCCESS'\n  this.FINISHED_DISCONNECTED = ' DISCONNECTED'\n\n  this.X_FAILED = ' (%d FAILED)'\n\n  this.TOTAL_SUCCESS = 'TOTAL: %d SUCCESS\\n'\n  this.TOTAL_FAILED = 'TOTAL: %d FAILED, %d SUCCESS\\n'\n}\n\nBaseReporter.decoratorFactory = function (formatError, reportSlow) {\n  return function (self) {\n    BaseReporter.call(self, formatError, reportSlow)\n  }\n}\n\nBaseReporter.decoratorFactory.$inject = ['formatError', 'config.reportSlowerThan']\n\n// PUBLISH\nmodule.exports = BaseReporter\n"]}