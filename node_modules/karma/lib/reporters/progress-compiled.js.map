{"version":3,"sources":["progress.js"],"names":[],"mappings":";;AAAA,IAAI,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;;AAEpC,IAAI,gBAAgB,GAAG,SAAnB,gBAAgB,CAAa,WAAW,EAAE,UAAU,EAAE;AACxD,cAAY,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,EAAE,UAAU,CAAC,CAAA;;AAEhD,MAAI,CAAC,cAAc,GAAG,UAAU,GAAG,EAAE;AACnC,QAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,CAAA;GAClD,CAAA;;AAED,MAAI,CAAC,WAAW,GAAG,YAAY;AAC7B,QAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAA;GAC5B,CAAA;;AAED,MAAI,CAAC,iBAAiB,GAAG,YAAY;AACnC,QAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAA;GAC5B,CAAA;;AAED,MAAI,CAAC,UAAU,GAAG,YAAY;AAC5B,QAAI,CAAC,SAAS,GAAG,EAAE,CAAA;AACnB,QAAI,CAAC,WAAW,GAAG,KAAK,CAAA;GACzB,CAAA;;AAED,MAAI,CAAC,cAAc,GAAG,UAAU,OAAO,EAAE;AACvC,QAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;;AAE5B,QAAI,IAAI,CAAC,WAAW,EAAE;AACpB,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;KACjB;;AAED,QAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAA;GAC5B,CAAA;;AAED,MAAI,CAAC,OAAO,GAAG,YAAY;AACzB,QAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACrB,aAAO,EAAE,CAAA;KACV;;AAED,QAAI,GAAG,GAAG,EAAE,CAAA;AACZ,QAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY;AACjC,SAAG,IAAI,SAAS,GAAG,SAAS,CAAA;KAC7B,CAAC,CAAA;;AAEF,QAAI,CAAC,WAAW,GAAG,KAAK,CAAA;;AAExB,WAAO,GAAG,CAAA;GACX,CAAA;;AAED,MAAI,CAAC,OAAO,GAAG,YAAY;AACzB,QAAI,CAAC,WAAW,GAAG,IAAI,CAAA;;AAEvB,WAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAA;GAChE,CAAA;;AAED,MAAI,CAAC,QAAQ,GAAG,YAAY;AAC1B,WAAO,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE,CAAA;GACvC,CAAA;CACF,CAAA;;;AAGD,MAAM,CAAC,OAAO,GAAG,gBAAgB,CAAA","file":"progress-compiled.js","sourcesContent":["var BaseReporter = require('./base')\n\nvar ProgressReporter = function (formatError, reportSlow) {\n  BaseReporter.call(this, formatError, reportSlow)\n\n  this.writeCommonMsg = function (msg) {\n    this.write(this._remove() + msg + this._render())\n  }\n\n  this.specSuccess = function () {\n    this.write(this._refresh())\n  }\n\n  this.onBrowserComplete = function () {\n    this.write(this._refresh())\n  }\n\n  this.onRunStart = function () {\n    this._browsers = []\n    this._isRendered = false\n  }\n\n  this.onBrowserStart = function (browser) {\n    this._browsers.push(browser)\n\n    if (this._isRendered) {\n      this.write('\\n')\n    }\n\n    this.write(this._refresh())\n  }\n\n  this._remove = function () {\n    if (!this._isRendered) {\n      return ''\n    }\n\n    var cmd = ''\n    this._browsers.forEach(function () {\n      cmd += '\\x1B[1A' + '\\x1B[2K'\n    })\n\n    this._isRendered = false\n\n    return cmd\n  }\n\n  this._render = function () {\n    this._isRendered = true\n\n    return this._browsers.map(this.renderBrowser).join('\\n') + '\\n'\n  }\n\n  this._refresh = function () {\n    return this._remove() + this._render()\n  }\n}\n\n// PUBLISH\nmodule.exports = ProgressReporter\n"]}