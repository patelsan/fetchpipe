{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,IAAI,QAAQ,GAAG,OAAO,CAAC,+BAA+B,CAAC;IAEnD,MAAM,GAAG,MAAM,CAAC,MAAM;IAAE,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;;AAE7E,MAAM,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;AACjC,KAAI,IAAI,GAAG,CAAC;KAAE,IAAI,GAAG,CAAC;KAAE,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;KAAE,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC;KAAE,KAAK,GAAG,CAAC;KAAE,GAAG,CAAC;AACjF,MAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;AACxB,QAAO;AACN,KAAG,EAAE,aAAU,EAAE,EAAE;AAClB,OAAI,QAAQ,GAAG,GAAG,CAAC,EAAE,CAAC;OAAE,OAAO,GAAG,EAAE,KAAK,CAAC;AAC1C,QAAK,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;AACpB,MAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC;AAClB,OAAI,CAAC,QAAQ,EAAE;AACd,MAAE,IAAI,CAAC;AACP,QAAI,IAAI,IAAI,KAAK,EAAE,OAAO;AAC1B,MAAE,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;AACjB,OAAG,CAAC,EAAE,CAAC,CAAC;AACR,WAAO,EAAE,CAAC;IACV;AACD,UAAO,KAAK,CAAC,QAAQ,CAAC,CAAC;AACvB,OAAI,IAAI,KAAK,QAAQ,EAAE,OAAO;AAC9B,UAAO,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,EAAE,SAAS;GACrD;AACD,YAAQ,GAAG,GAAG,UAAU,EAAE,EAAE;AAC3B,OAAI,QAAQ,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC;AACvB,OAAI,CAAC,QAAQ,EAAE,OAAO;AACtB,UAAO,KAAK,CAAC,QAAQ,CAAC,CAAC;AACvB,UAAO,GAAG,CAAC,EAAE,CAAC,CAAC;AACf,KAAE,IAAI,CAAC;AACP,OAAI,IAAI,KAAK,QAAQ,EAAE,OAAO;AAC9B,OAAI,CAAC,IAAI,EAAE;AACV,SAAK,GAAG,CAAC,CAAC;AACV,QAAI,GAAG,CAAC,CAAC;AACT,WAAO;IACP;AACD,UAAO,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,EAAE,SAAS;GACrD;AACD,OAAK,EAAE,iBAAY;AAClB,OAAI,GAAG,CAAC,CAAC;AACT,OAAI,GAAG,CAAC,CAAC;AACT,QAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AACrB,MAAG,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AACnB,QAAK,GAAG,CAAC,CAAC;GACV;EACD,CAAC;CACF,CAAC","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar toPosInt = require('es5-ext/number/to-pos-integer')\n\n  , create = Object.create, hasOwnProperty = Object.prototype.hasOwnProperty;\n\nmodule.exports = function (limit) {\n\tvar size = 0, base = 1, queue = create(null), map = create(null), index = 0, del;\n\tlimit = toPosInt(limit);\n\treturn {\n\t\thit: function (id) {\n\t\t\tvar oldIndex = map[id], nuIndex = ++index;\n\t\t\tqueue[nuIndex] = id;\n\t\t\tmap[id] = nuIndex;\n\t\t\tif (!oldIndex) {\n\t\t\t\t++size;\n\t\t\t\tif (size <= limit) return;\n\t\t\t\tid = queue[base];\n\t\t\t\tdel(id);\n\t\t\t\treturn id;\n\t\t\t}\n\t\t\tdelete queue[oldIndex];\n\t\t\tif (base !== oldIndex) return;\n\t\t\twhile (!hasOwnProperty.call(queue, ++base)) continue; //jslint: skip\n\t\t},\n\t\tdelete: del = function (id) {\n\t\t\tvar oldIndex = map[id];\n\t\t\tif (!oldIndex) return;\n\t\t\tdelete queue[oldIndex];\n\t\t\tdelete map[id];\n\t\t\t--size;\n\t\t\tif (base !== oldIndex) return;\n\t\t\tif (!size) {\n\t\t\t\tindex = 0;\n\t\t\t\tbase = 1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twhile (!hasOwnProperty.call(queue, ++base)) continue; //jslint: skip\n\t\t},\n\t\tclear: function () {\n\t\t\tsize = 0;\n\t\t\tbase = 1;\n\t\t\tqueue = create(null);\n\t\t\tmap = create(null);\n\t\t\tindex = 0;\n\t\t}\n\t};\n};\n"]}