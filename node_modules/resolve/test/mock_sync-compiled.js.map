{"version":3,"sources":["mock_sync.js"],"names":[],"mappings":";;AAAA,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,IAAI,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;;AAE7B,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE;AACtB,KAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;AAEV,QAAI,KAAK,GAAG;AACR,yBAAiB,EAAG,MAAM;KAC7B,CAAC;;AAEF,aAAS,IAAI,CAAE,OAAO,EAAE;AACpB,eAAO;AACH,mBAAO,EAAG,OAAO;AACjB,kBAAM,EAAG,gBAAU,IAAI,EAAE;AACrB,uBAAO,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;aACpC;AACD,wBAAY,EAAG,sBAAU,IAAI,EAAE;AAC3B,uBAAO,KAAK,CAAC,IAAI,CAAC,CAAA;aACrB;SACJ,CAAA;KACJ;;AAED,KAAC,CAAC,KAAK,CACH,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EACvC,iBAAiB,CACpB,CAAC;;AAEF,KAAC,CAAC,KAAK,CACH,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAC1C,iBAAiB,CACpB,CAAC;;AAEF,KAAC,CAAC,MAAM,CAAC,YAAY;AACjB,eAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;KACzC,CAAC,CAAC;;AAEH,KAAC,CAAC,MAAM,CAAC,YAAY;AACjB,eAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;KAC5C,CAAC,CAAC;CACN,CAAC,CAAC;;AAEH,IAAI,CAAC,cAAc,EAAE,UAAU,CAAC,EAAE;AAC9B,KAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;AAEV,QAAI,KAAK,GAAG;AACR,sCAA8B,EAAG,MAAM;AACvC,4CAAoC,EAAG,IAAI,CAAC,SAAS,CAAC;AAClD,gBAAI,EAAG,UAAU;SACpB,CAAC;KACL,CAAC;;AAEF,aAAS,IAAI,CAAE,OAAO,EAAE;AACpB,eAAO;AACH,mBAAO,EAAG,OAAO;AACjB,kBAAM,EAAG,gBAAU,IAAI,EAAE;AACrB,uBAAO,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;aACpC;AACD,wBAAY,EAAG,sBAAU,IAAI,EAAE;AAC3B,uBAAO,KAAK,CAAC,IAAI,CAAC,CAAA;aACrB;SACJ,CAAA;KACJ;;AAED,KAAC,CAAC,KAAK,CACH,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,EACjC,8BAA8B,CACjC,CAAC;CACL,CAAC,CAAC","file":"mock_sync-compiled.js","sourcesContent":["var test = require('tape');\nvar resolve = require('../');\n\ntest('mock', function (t) {\n    t.plan(4);\n    \n    var files = {\n        '/foo/bar/baz.js' : 'beep'\n    };\n    \n    function opts (basedir) {\n        return {\n            basedir : basedir,\n            isFile : function (file) {\n                return files.hasOwnProperty(file)\n            },\n            readFileSync : function (file) {\n                return files[file]\n            }\n        }\n    }\n    \n    t.equal(\n        resolve.sync('./baz', opts('/foo/bar')),\n        '/foo/bar/baz.js'\n    );\n    \n    t.equal(\n        resolve.sync('./baz.js', opts('/foo/bar')),\n        '/foo/bar/baz.js'\n    );\n    \n    t.throws(function () {\n        resolve.sync('baz', opts('/foo/bar'));\n    });\n\n    t.throws(function () {\n        resolve.sync('../baz', opts('/foo/bar'));\n    });\n});\n\ntest('mock package', function (t) {\n    t.plan(1);\n    \n    var files = {\n        '/foo/node_modules/bar/baz.js' : 'beep',\n        '/foo/node_modules/bar/package.json' : JSON.stringify({\n            main : './baz.js'\n        })\n    };\n    \n    function opts (basedir) {\n        return {\n            basedir : basedir,\n            isFile : function (file) {\n                return files.hasOwnProperty(file)\n            },\n            readFileSync : function (file) {\n                return files[file]\n            }\n        }\n    }\n    \n    t.equal(\n        resolve.sync('bar', opts('/foo')),\n        '/foo/node_modules/bar/baz.js'\n    );\n});\n"]}