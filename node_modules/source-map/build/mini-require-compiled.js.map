{"version":3,"sources":["mini-require.js"],"names":[],"mappings":"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","file":"mini-require-compiled.js","sourcesContent":["/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * Define a module along with a payload.\n * @param {string} moduleName Name for the payload\n * @param {ignored} deps Ignored. For compatibility with CommonJS AMD Spec\n * @param {function} payload Function with (require, exports, module) params\n */\nfunction define(moduleName, deps, payload) {\n  if (typeof moduleName != \"string\") {\n    throw new TypeError('Expected string, got: ' + moduleName);\n  }\n\n  if (arguments.length == 2) {\n    payload = deps;\n  }\n\n  if (moduleName in define.modules) {\n    throw new Error(\"Module already defined: \" + moduleName);\n  }\n  define.modules[moduleName] = payload;\n};\n\n/**\n * The global store of un-instantiated modules\n */\ndefine.modules = {};\n\n\n/**\n * We invoke require() in the context of a Domain so we can have multiple\n * sets of modules running separate from each other.\n * This contrasts with JSMs which are singletons, Domains allows us to\n * optionally load a CommonJS module twice with separate data each time.\n * Perhaps you want 2 command lines with a different set of commands in each,\n * for example.\n */\nfunction Domain() {\n  this.modules = {};\n  this._currentModule = null;\n}\n\n(function () {\n\n  /**\n   * Lookup module names and resolve them by calling the definition function if\n   * needed.\n   * There are 2 ways to call this, either with an array of dependencies and a\n   * callback to call when the dependencies are found (which can happen\n   * asynchronously in an in-page context) or with a single string an no callback\n   * where the dependency is resolved synchronously and returned.\n   * The API is designed to be compatible with the CommonJS AMD spec and\n   * RequireJS.\n   * @param {string[]|string} deps A name, or names for the payload\n   * @param {function|undefined} callback Function to call when the dependencies\n   * are resolved\n   * @return {undefined|object} The module required or undefined for\n   * array/callback method\n   */\n  Domain.prototype.require = function(deps, callback) {\n    if (Array.isArray(deps)) {\n      var params = deps.map(function(dep) {\n        return this.lookup(dep);\n      }, this);\n      if (callback) {\n        callback.apply(null, params);\n      }\n      return undefined;\n    }\n    else {\n      return this.lookup(deps);\n    }\n  };\n\n  function normalize(path) {\n    var bits = path.split('/');\n    var i = 1;\n    while (i < bits.length) {\n      if (bits[i] === '..') {\n        bits.splice(i-1, 1);\n      } else if (bits[i] === '.') {\n        bits.splice(i, 1);\n      } else {\n        i++;\n      }\n    }\n    return bits.join('/');\n  }\n\n  function join(a, b) {\n    a = a.trim();\n    b = b.trim();\n    if (/^\\//.test(b)) {\n      return b;\n    } else {\n      return a.replace(/\\/*$/, '/') + b;\n    }\n  }\n\n  function dirname(path) {\n    var bits = path.split('/');\n    bits.pop();\n    return bits.join('/');\n  }\n\n  /**\n   * Lookup module names and resolve them by calling the definition function if\n   * needed.\n   * @param {string} moduleName A name for the payload to lookup\n   * @return {object} The module specified by aModuleName or null if not found.\n   */\n  Domain.prototype.lookup = function(moduleName) {\n    if (/^\\./.test(moduleName)) {\n      moduleName = normalize(join(dirname(this._currentModule), moduleName));\n    }\n\n    if (moduleName in this.modules) {\n      var module = this.modules[moduleName];\n      return module;\n    }\n\n    if (!(moduleName in define.modules)) {\n      throw new Error(\"Module not defined: \" + moduleName);\n    }\n\n    var module = define.modules[moduleName];\n\n    if (typeof module == \"function\") {\n      var exports = {};\n      var previousModule = this._currentModule;\n      this._currentModule = moduleName;\n      module(this.require.bind(this), exports, { id: moduleName, uri: \"\" });\n      this._currentModule = previousModule;\n      module = exports;\n    }\n\n    // cache the resulting module object for next time\n    this.modules[moduleName] = module;\n\n    return module;\n  };\n\n}());\n\ndefine.Domain = Domain;\ndefine.globalDomain = new Domain();\nvar require = define.globalDomain.require.bind(define.globalDomain);\n"]}