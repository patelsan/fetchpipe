{"version":3,"sources":["test-redirect-302.js"],"names":[],"mappings":";;AAAA,IAAI,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC;IACrB,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC;IAC1B,cAAc,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAC,cAAc;IAChE,GAAG,GAAG,IAAI,cAAc,EAAE;IAC1B,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;;AAG3B,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE;AACjD,MAAI,GAAG,CAAC,GAAG,KAAK,sBAAsB,EAAE;AACtC,OAAG,CAAC,SAAS,CAAC,GAAG,EAAE,EAAC,UAAU,EAAE,wBAAwB,EAAC,CAAC,CAAC;AAC3D,OAAG,CAAC,GAAG,EAAE,CAAC;AACV,WAAO;GACR;;AAED,MAAI,IAAI,GAAG,aAAa,CAAC;AACzB,KAAG,CAAC,SAAS,CAAC,GAAG,EAAE;AACjB,kBAAc,EAAE,YAAY;AAC5B,oBAAgB,EAAE,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;AACzC,UAAM,EAAE,+BAA+B;AACvC,gBAAY,EAAE,OAAO;GACtB,CAAC,CAAC;AACH,KAAG,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AACzB,KAAG,CAAC,GAAG,EAAE,CAAC;;AAEV,MAAI,CAAC,KAAK,EAAE,CAAC;CACd,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;AAEhB,GAAG,CAAC,kBAAkB,GAAG,YAAW;AAClC,MAAI,IAAI,CAAC,UAAU,IAAI,CAAC,EAAE;AACxB,UAAM,CAAC,KAAK,CAAC,GAAG,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;AACnD,UAAM,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;AAC9C,OAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;GAClB;CACF,CAAC;;AAEF,IAAI;AACF,KAAG,CAAC,IAAI,CAAC,KAAK,EAAE,2CAA2C,CAAC,CAAC;AAC7D,KAAG,CAAC,IAAI,EAAE,CAAC;CACZ,CAAC,OAAM,CAAC,EAAE;AACT,SAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,CAAC,CAAC,CAAC;CAC3C","file":"test-redirect-302-compiled.js","sourcesContent":["var sys = require(\"util\")\n  , assert = require(\"assert\")\n  , XMLHttpRequest = require(\"../lib/XMLHttpRequest\").XMLHttpRequest\n  , xhr = new XMLHttpRequest()\n  , http = require(\"http\");\n\n// Test server\nvar server = http.createServer(function (req, res) {\n  if (req.url === '/redirectingResource') {\n    res.writeHead(302, {'Location': 'http://localhost:8000/'});\n    res.end();\n    return;\n  }\n\n  var body = \"Hello World\";\n  res.writeHead(200, {\n    \"Content-Type\": \"text/plain\",\n    \"Content-Length\": Buffer.byteLength(body),\n    \"Date\": \"Thu, 30 Aug 2012 18:17:53 GMT\",\n    \"Connection\": \"close\"\n  });\n  res.write(\"Hello World\");\n  res.end();\n\n  this.close();\n}).listen(8000);\n\nxhr.onreadystatechange = function() {\n  if (this.readyState == 4) {\n    assert.equal(xhr.getRequestHeader('Location'), '');\n    assert.equal(xhr.responseText, \"Hello World\");\n    sys.puts(\"done\");\n  }\n};\n\ntry {\n  xhr.open(\"GET\", \"http://localhost:8000/redirectingResource\");\n  xhr.send();\n} catch(e) {\n  console.log(\"ERROR: Exception raised\", e);\n}\n"]}