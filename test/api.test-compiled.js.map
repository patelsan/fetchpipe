{"version":3,"sources":["api.test.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,QAAQ,CAAC,eAAe,EAAE,YAAK;AAC3B,QAAI,GAAG,GAAG,6CAA6C,CAAC;AACxD,QAAI,UAAU,GAAG,2CAA2C,CAAC;;AAE7D,cAAU,CAAC,YAAK;AACZ,iBAAS,CAAC,iBAAiB,EAAE,CAAC;KACjC,CAAC,CAAC;;AAEH,MAAE,CAAC,gDAAgD,EAAE,UAAC,IAAI,EAAI;AAC1D,aAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG,EAAI;AAChB,gBAAI,EAAE,CAAC;SACV,CACJ,SAAM,CAAC,UAAC,CAAC,EAAI;AACN,gBAAI,CAAC,2CAA2C,CAAC,CAAC;AAClD,gBAAI,EAAE,CAAC;SACd,CAAC,CAAC;KACN,CAAC,CAAC;;AAEH,MAAE,CAAC,iCAAiC,EAAE,UAAC,IAAI,EAAI;AAC3C,iBAAS,CAAC,SAAS,CAAC,UAAC,CAAC,EAAI;AACtB,gBAAI,EAAE,CAAC;AACP,mBAAO,CAAC,CAAC;SACZ,CAAC,CAAC;;AAEH,aAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG,EAAI;;SAEnB,CACJ,SAAM,CAAC,UAAC,CAAC,EAAI;AACN,gBAAI,CAAC,2CAA2C,CAAC,CAAC;AAClD,gBAAI,EAAE,CAAC;SACV,CAAC,CAAC;KAEV,CAAC,CAAC;;AAEH,MAAE,CAAC,iCAAiC,EAAE,UAAC,IAAI,EAAI;AAC3C,YAAI,kBAAkB,GAAG,KAAK,CAAC;;AAE/B,iBAAS,CAAC,SAAS,CAAC,UAAC,OAAO,EAAE,OAAO,EAAI;AACrC,8BAAkB,GAAG,IAAI,CAAC;SAC7B,CAAC,CAAC;;AAEH,iBAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG,EAAI;AACpB,kBAAM,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACtC,gBAAI,EAAE,CAAC;SACV,CACJ,SAAM,CAAC,UAAC,CAAC,EAAI;AACN,gBAAI,CAAC,2CAA2C,CAAC,CAAC;AAClD,gBAAI,EAAE,CAAC;SACV,CAAC,CAAC;KAEV,CAAC,CAAC;;AAEH,MAAE,CAAC,+BAA+B,EAAE,UAAC,IAAI,EAAI;AACzC,iBAAS,CAAC,OAAO,CAAC,UAAC,CAAC,EAAI;AACpB,gBAAI,EAAE,CAAC;SACV,CAAC,CAAC;;AAEH,iBAAS,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG,EAAI;;AAE3B,gBAAI,CAAC,qDAAqD,CAAC,CAAC;SAC/D,CACJ,SAAM,CAAC,UAAC,CAAC,EAAI;AACN,gBAAI,CAAC,2CAA2C,CAAC,CAAC;AAClD,gBAAI,EAAE,CAAC;SACV,CAAC,CAAC;KAEV,CAAC,CAAC;CACN,CAAC,CAAC","file":"api.test-compiled.js","sourcesContent":["'use strict';\n\ndescribe(\"FetchPipe API\", ()=> {\n    var url = \"http://jsonplaceholder.typicode.com/posts/1\";\n    var invalidUrl = \"http://jsonplaceholder.typicode.com/XXX/1\"; //HTTP 404\n\n    beforeEach(()=> {\n        fetchPipe.removeAllHandlers();\n    });\n\n    it(\"should work with the plain vanilla calls as is\", (done)=> {\n        fetch(url).then((res)=> {\n                done();\n            }\n        ).catch((e)=> {\n                fail(\"API call resulted in to unexpected error.\");\n                done();\n        });\n    });\n\n    it(\"should call the success handler\", (done)=> {\n        fetchPipe.onSuccess((r)=> {\n            done();\n            return r;\n        });\n\n        fetch(url).then((res)=> {\n                //Do nothing\n            }\n        ).catch((e)=> {\n                fail(\"API call resulted in to unexpected error.\");\n                done();\n            });\n\n    });\n\n    it(\"should call the request handler\", (done)=> {\n        var gotRequestCallback = false;\n\n        fetchPipe.onRequest((request, options)=> {\n            gotRequestCallback = true;\n        });\n\n        fetchPipe(url).then((res)=> {\n                expect(gotRequestCallback).toBe(true);\n                done();\n            }\n        ).catch((e)=> {\n                fail(\"API call resulted in to unexpected error.\");\n                done();\n            });\n\n    });\n\n    it(\"should call the error handler\", (done)=> {\n        fetchPipe.onError((r)=> {\n            done();\n        });\n\n        fetchPipe(invalidUrl).then((res)=> {\n                //Do nothing - we should never be here\n                fail(\"Unexpected call to success when error was expected.\");\n            }\n        ).catch((e)=> {\n                fail(\"API call resulted in to unexpected error.\");\n                done();\n            });\n\n    });\n});"]}